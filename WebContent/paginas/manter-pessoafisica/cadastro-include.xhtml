<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"	>

	<h:panelGrid columns="1">
		<p:tabView dynamic="true" id="tabviewpf" activeIndex="#{pessoaFisicaController.tabAtual}" >
		
			<p:ajax event="tabChange" listener="#{pessoaFisicaController.onTabChange}" update="tabviewpf form_avancar " />
			
			<p:tab title="Dados Básicos">
				<ui:include src="/paginas/manter-pessoafisica/formCadastro.xhtml" />
			</p:tab>
			<p:tab title="Documentos" disabled="#{pessoaFisicaController.disableAbasDependencias}">
		 		<ui:include src="/paginas/manter-pessoafisica/documentoPessoaFisica.xhtml"/>
			</p:tab>
			<p:tab title="Telefones" disabled="#{pessoaFisicaController.disableAbasDependencias}">
				<ui:include src="/paginas/manter-pessoafisica/telefonePessoaFisica.xhtml" /> 
			</p:tab>
			<p:tab title="Endereço" disabled="#{pessoaFisicaController.disableAbasDependencias}">
				<ui:include src="/paginas/manter-endereco/endereco.xhtml" />
			</p:tab>
			<p:tab title="Procurador" disabled="#{pessoaFisicaController.disableAbasDependencias}">
				<ui:include  src="/paginas/manter-pessoafisica/procurador.xhtml"   />
			</p:tab>
		</p:tabView>
			 
		<h:form id="form_avancar">
			<p:outputPanel id="pnlBotoes" autoUpdate="true">
				<p:commandButton id="btnVoltar" value="Voltar"  update="tabviewpf form_avancar" action="#{pessoaFisicaController.decrementaIndexAba}"  rendered="#{pessoaFisicaController.visualizaAnterior}" style="float: left;"></p:commandButton>
				<p:commandButton id="btnAvancar" value="Avançar" update="tabviewpf form_avancar" action="#{pessoaFisicaController.incrementaIndexAba}" rendered="#{pessoaFisicaController.visualizaProximo and !pessoaFisicaController.disableAbasDependencias}" style="float:right;"></p:commandButton>
				<p:commandButton id="btnFinalizar" value="Finalizar" action="#{pessoaFisicaController.finalizar}" rendered="#{pessoaFisicaController.visualizaFinalizar}" ajax="false" style="float:right;"></p:commandButton>
			</p:outputPanel>
		</h:form>
	</h:panelGrid>		
</html>