<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="../../layout/template.xhtml">

	<ui:define name="titulo-pagina">
		<h3>Declaração de Transportes de Resíduos Perigosos</h3>
	</ui:define>

	<ui:define name="conteudo-principal">
		<p:confirmDialog id="confirmaExclusaoEnderecoResiduo" widgetVar="confirmaExclusaoEnderecoResiduo" header="#{bundle.geral_lbl_mensagem}" appendToBody="true" message="#{bundle.lac_dadosGerais_msg004}" severity="alert" >
			<h:form>
				<p:commandButton id="excluirEnderecoResiduo" value="#{bundle.btn_sim}" actionListener="#{declaracaoTransporteResiduoPerigosoController.excluirEnderecoResiduo()}" onclick="confirmaExclusaoEnderecoResiduo.hide()" 
				update="tabViewDTRP:formDeclaracao:dtEnderecoResiduo" process="@this"/>
				<p:commandButton value="#{bundle.btn_nao}" onclick="confirmaExclusaoEnderecoResiduo.hide()" type="button" />
			</h:form>
		</p:confirmDialog>
		
		<p:confirmDialog id="confirmaExclusaoEntidadeTransportadora" widgetVar="confirmaExclusaoEntidadeTransportadora" header="#{bundle.geral_lbl_mensagem}" appendToBody="true" message="#{bundle.lac_dadosGerais_msg004}" severity="alert" >
			<h:form>
				<p:commandButton id="excluirEntidadeTransportadora" value="#{bundle.btn_sim}" actionListener="#{declaracaoTransporteResiduoPerigosoController.excluirEntidadeTransportadora}" onclick="confirmaExclusaoEntidadeTransportadora.hide()" 
				update="tabViewDTRP:formDeclaracao:dtEntidadesTransportadoras" process="@this"/>
				<p:commandButton value="#{bundle.btn_nao}" onclick="confirmaExclusaoEntidadeTransportadora.hide()" type="button" />
			</h:form>
		</p:confirmDialog>
		
		<p:confirmDialog id="confirmaExclusaoResiduo" widgetVar="confirmaExclusaoResiduo" header="#{bundle.geral_lbl_mensagem}" appendToBody="true" message="#{bundle.lac_dadosGerais_msg004}" severity="alert" >
			<h:form>
				<p:commandButton id="excluirResiduo" value="#{bundle.btn_sim}" actionListener="#{declaracaoTransporteResiduoPerigosoController.removerResiduoLista()}" onclick="confirmaExclusaoResiduo.hide()" 
				update="tabViewDTRP:form_Etapa2:dataTableResiduos tabViewDTRP:form_Etapa2:gridResiduos" global="false" process="@this"/>
				<p:commandButton value="#{bundle.btn_nao}" onclick="confirmaExclusaoResiduo.hide()" type="button"/>
			</h:form>
		</p:confirmDialog>
		
		<p:tabView id="tabViewDTRP" activeIndex="#{declaracaoTransporteResiduoPerigosoController.activeIndex}">
			<p:ajax event="tabChange" listener="#{declaracaoTransporteResiduoPerigosoController.onTabChange}" />
			
			<p:tab title="Etapa 1" disabled="#{declaracaoTransporteResiduoPerigosoController.desabilitaTab01}" id="tab01">
				<ui:include src="/paginas/manter-dtrp/dtrpEtapa1.xhtml" />
			</p:tab>
			
			<p:tab title="Etapa 2" disabled="#{declaracaoTransporteResiduoPerigosoController.desabilitaTab02}" id="tab02">
				<ui:include src="/paginas/manter-dtrp/dtrpEtapa2.xhtml" />
			</p:tab>
			
			<p:tab title="Etapa 3" disabled="#{declaracaoTransporteResiduoPerigosoController.desabilitaTab03}" id="tab03">
				<ui:include src="/paginas/manter-dtrp/dtrpEtapa3.xhtml" />
			</p:tab>
		</p:tabView>
		<p:dialog id="dialogselecionarGeradorResiduo" dynamic="true" header="Selecionar Gerador Resíduo" 
			widgetVar="dialogselecionarGeradorResiduo" modal="true" position="center" resizable="false"
			height="400" width="550">
			<ui:include src="/paginas/manter-dtrp/selecionarGeradorResiduo.xhtml" />
		</p:dialog>
		
		<p:dialog id="dialogselecionarEnderecoResiduo" dynamic="true" 
			header="Selecionar Endereço de Geração dos Resíduos" widgetVar="dialogselecionarEnderecoResiduo" 
			modal="true" position="center" resizable="false"
			height="400" width="550">
			<ui:include src="/paginas/manter-dtrp/enderecoGeracaoResiduo.xhtml" />
		</p:dialog>
		
		<p:dialog id="dialogselecionarDestinatario" dynamic="true" header="Selecionar Entidade Destinatária"
			widgetVar="dialogselecionarDestinatario" modal="true" position="center" resizable="false"
			height="400" width="550">
			<ui:include src="/paginas/manter-dtrp/selecionarDestinatario.xhtml" />
		</p:dialog>
		
		<p:dialog id="dialogselecionarTransportadora" dynamic="true" 
			header="Selecionar Entidade Transportadora" widgetVar="dialogselecionarTransportadora" 
			modal="true" position="center" resizable="false"
			height="380" width="370">
			<ui:include src="/paginas/manter-dtrp/selecionarTransportadora.xhtml" />
		</p:dialog>
		
		<p:dialog id="dialogCaracterizarResiduo" dynamic="true" 
			header="Caracterizar Resíduo" widgetVar="dialogCaracterizarResiduo" 
			modal="true" position="center" resizable="false"
			height="530" width="344">
			<ui:include src="/paginas/manter-dtrp/residuoDetalhe.xhtml" />
		</p:dialog>
	</ui:define>
</ui:composition>
