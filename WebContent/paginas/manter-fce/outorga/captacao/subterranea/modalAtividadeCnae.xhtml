<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">
	
	<h:form id="form-pagina-subterranea-cnae">
	
			<h:panelGrid columns="1" id="paneldialogSubterraneaCnae">
				<h:outputText value="#{bundle.cnaeLabelSecao}" />
				<h:inputText value="#{cnaeController.cnaeSecao.desCnae}" disabled="true" style="width: 700px;" rendered="#{!cnaeController.enableFormCnae}"/>
				
				<p:selectOneMenu id="comboSecaoSubterranea" value="#{cnaeController.cnaeSecao.ideCnae}" style="width: 700px;" disabled="#{!cnaeController.enableFormCnae}">
					<f:selectItem itemValue="" itemLabel="Selecione Seção..."/>
					<f:selectItems value="#{cnaeController.listaSecao}"/>	
					<p:ajax update="paneldialogSubterraneaCnae" process="@this" global="false" listener="#{cnaeController.buscarDivisaoPorSecao}"/>							
				</p:selectOneMenu>
				
				<h:outputText value="#{bundle.cnaeLabelDivisao}" />
				
				<h:inputText value="#{cnaeController.cnaeDivisao.desCnae}" rendered="#{!cnaeController.enableFormCnae}" disabled="true" style="width: 700px;" />
				<p:selectOneMenu id="comboDivisaoSubterranea" value="#{cnaeController.cnaeDivisao.ideCnae}" style="width: 700px;" >
					<f:selectItem itemValue="" itemLabel="Selecione Divisao..."/>
					<f:selectItems value="#{cnaeController.listaDivisao}"/>								
					<p:ajax update="paneldialogSubterraneaCnae" process="@this" global="false" listener="#{cnaeController.buscarGrupoPorDivisao}"/>				
				</p:selectOneMenu>
				
				<h:outputText value="#{bundle.cnaeLabelGrupo}" />
				
				<h:inputText value="#{cnaeController.cnaeGrupo.desCnae}" rendered="#{!cnaeController.enableFormCnae}" disabled="true" style="width: 700px;" />
				<p:selectOneMenu id="comboGrupoSubterranea" value="#{cnaeController.cnaeGrupo.ideCnae}" style="width: 700px;" >
					<f:selectItem itemValue="" itemLabel="Selecione Grupo..."/>
					<f:selectItems value="#{cnaeController.listaGrupo}"/>
					<p:ajax update="paneldialogSubterraneaCnae" process="@this"  global="false" listener="#{cnaeController.buscarClassePorGrupo}"/> 
				</p:selectOneMenu>
				
				<h:outputText value="#{bundle.cnaeLabelClasse}" />
				
				<h:inputText value="#{cnaeController.cnaeClasse.desCnae}" rendered="#{!cnaeController.enableFormCnae}" disabled="true" style="width: 700px;" />
				<p:selectOneMenu id="comboClasseSubterranea" value="#{cnaeController.cnaeClasse}" style="width: 700px;"  converter="cnaeConverter">
					<f:selectItem itemValue="" itemLabel="Selecione Classe..."/>
					<f:selectItems value="#{cnaeController.listaClasse}" var="classe" itemValue="#{classe}" itemLabel="#{classe.cnaeFormatado}"/>								
 					<p:ajax update="paneldialogSubterraneaCnae" process="@this" global="false" listener="#{cnaeController.buscarSubclassePorClasse}"/> 
				</p:selectOneMenu>
				
				<h:outputText value="#{bundle.cnaeLabelSubclasse}" />
				
				<h:inputText value="#{cnaeController.fceCaptacaoSubterraneaCnae.ideCnae.desCnae}" rendered="#{!cnaeController.enableFormCnae}" disabled="true" style="width: 700px;" />
				<p:selectOneMenu id="comboSubClasseSubterranea" value="#{cnaeController.cnaeSubclasse}" style="width: 700px;" converter="cnaeConverter">
					<f:selectItem itemValue="" itemLabel="Selecione SubClasse..."/>
					<f:selectItems value="#{cnaeController.listaSubclasse}" var="classe" itemValue="#{classe}" itemLabel="#{classe.cnaeFormatado}"/>								
				</p:selectOneMenu>
				
				<h:outputText value="#{bundle.cnaeLabelPerguntaAtividadePrincipal}" />
				
				<p:selectOneRadio value="#{cnaeController.fceCaptacaoSubterraneaCnae.indCnaePrincipal}" disabled="#{!cnaeController.enableFormCnae}">  
		            <f:selectItem itemLabel="#{bundle.cnaeLabelSim}" itemValue="true"/>  
		            <f:selectItem itemLabel="#{bundle.cnaeLabelNao}" itemValue="false"/>
		        </p:selectOneRadio>
		        	        
		       <h:panelGrid columns="2" rendered="#{cnaeController.enableFormCnae}">
		        		<p:commandButton value="#{bundle.cnaeLabelLimpar}" actionListener="#{cnaeController.limparEdicao()}" update="paneldialogSubterraneaCnae" />
		        			<p:commandButton value="#{bundle.cnaeLabelSalvar}" action="#{cnaeController.salvarCnae}" update=":formCaracteristicaPoco:pnlTableSubterraneaCnae">
							<f:setPropertyActionListener target="#{cnaeController.cnaeSubterranea}" value="#{true}" />
						</p:commandButton>		        		
				</h:panelGrid>
				
			</h:panelGrid>
	</h:form>			
</ui:composition>