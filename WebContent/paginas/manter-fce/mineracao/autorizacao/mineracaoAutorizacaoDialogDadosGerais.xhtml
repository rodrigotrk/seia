<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui" 
	xmlns:s="http://java.sun.com/jsf/composite/seia">
    		
    <!--  Incluir Substancia Mineral  -->
	<p:dialog id="incluirSubstanciaMineral"
		widgetVar="incluirSubstanciaMineral" appendToBody="false"
		draggable="true" dynamic="true" width="710" resizable="false"
		header="#{bundle.fce_lic_min_incluir_substancia}" modal="true"
		>
		
		<h:form id="formAutMinIncluirSubstancia">
			
			<p:tree value="#{fceAutorizacaoMineracaoController.root}" 
				var="node" 
				selectionMode="single" 
				selection="#{fceAutorizacaoMineracaoController.selectedNode}" 
				style="width: 680px; height:200px; overflow: scroll; overflow-x: hidden;"
				styleClass="quebra-de-linha-node-substancia-mineral"
				>

				<p:treeNode type="tipologia">
					<h:outputText value="#{node.desTipologia}"/>
				</p:treeNode>
				
				<p:treeNode type="substancia">
					<h:outputText value="#{node.ideSubstanciaMineral.nomSubstanciaMineral}"/>
				</p:treeNode> 
			</p:tree>	
			
			<div style="width: 100%; display: table;" >
				<div style="display: table-cell; text-align: center;  vertical-align: middle;">
					<p:commandButton value="Salvar e Fechar" action="#{fceAutorizacaoMineracaoController.salvarSubstanciaMineralFechar()}" />
					<p:commandButton value="Salvar e Continuar" action="#{fceAutorizacaoMineracaoController.salvarSubstanciaMineralContinuar()}" />
				</div>
			</div>
		</h:form>
	</p:dialog>
	<!--  Incluir Substancia Mineral  -->

		
		
	<!-- NumeroProcessoDnpm -->
	<p:dialog id="dialogProcessoDnpm" widgetVar="dialogProcessoDnpm" header="Incluir Número do Processo" appendToBody="true" dynamic="true" position="center"  width="400" resizable="false" modal="true" draggable="true">
		<h:form  id="formProcessoDnpm" >
			<h:panelGrid columns="1">
				<h:outputText value="* Número do processo" />
				<h:panelGrid columns="2">
					<p:inputMask mask="999999/9999" required="true" requiredMessage="Digite um número de processo no formato: xxxxxx/xxxx"  value="#{fceAutorizacaoMineracaoController.processoDnpm.numProcessoDnpm}" id="numProcessoDnpm"/>
					<p:commandButton  value="Inserir"  actionListener="#{fceAutorizacaoMineracaoController.inserirProcessoDnpm()}" process="@form" update=":tabAutMineracao:minAutDadosGerais:dataTableMinAutinfoDnpm" />
				</h:panelGrid><br/>
			</h:panelGrid>	
		</h:form>
	</p:dialog>
	<!-- NumeroProcessoDnpm -->

	<h:form id="formExcluirFceAutMineracaoSubstancia">
	    <p:confirmDialog style="top: 50% !important; left:50% !important;"  message="Deseja realmente excluir o registro? " widgetVar="excluirFceAutMineracaoSubstancia" header="Excluir substância" >
	        <p:commandButton value="Sim" type="submit" oncomplete="excluirFceAutMineracaoSubstancia.hide();" actionListener="#{fceAutorizacaoMineracaoController.excluirSubstanciaMineral()}" process="formExcluirFceAutMineracaoSubstancia"  update=":tabAutMineracao:minAutDadosGerais:dataTableMinAutSubstancia :formAutMinIncluirSubstancia" />
	        <p:commandButton value="Não" type="button" onclick="excluirFceAutMineracaoSubstancia.hide();" global="false" />
	    </p:confirmDialog>
	</h:form>

	<h:form id="formExcluirProcessoDpm">
	    <p:confirmDialog style="top: 50% !important; left:50% !important;" message="Deseja realmente excluir o registro? " widgetVar="excluirFceAutMineracaoProcessoDnpm" header="Excluir processo">
	        <p:commandButton value="Sim" type="submit" oncomplete="excluirFceAutMineracaoProcessoDnpm.hide();" actionListener="#{fceAutorizacaoMineracaoController.excluirProcessoDnpm()}" process="formExcluirProcessoDpm"  update=":tabAutMineracao:minAutDadosGerais:dataTableMinAutinfoDnpm" />
	        <p:commandButton value="Não" type="button" onclick="excluirFceAutMineracaoProcessoDnpm.hide();" global="false" />
	    </p:confirmDialog>
	</h:form>
	


</ui:composition>
	