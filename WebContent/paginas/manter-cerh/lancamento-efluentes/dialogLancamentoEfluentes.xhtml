<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">

	<h:form id="formLancamentoEfluentes" >
        <ui:include src="/layout/csrfToken.xhtml" />
		
		<h:panelGrid columns="2" style="width:100%"  id="panelDetalhesCorpoHidrico">
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelCorpoHidrico.xhtml" />
		</h:panelGrid>

		<h:panelGrid style="margin-top:15px;" rendered="#{!cerhController.abaLancamentoEfluentes.naoExibeData}">
			<h:outputText value="Data de início do lançamento:" />
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelDataInicioLancamento.xhtml" />
		</h:panelGrid>

		<h:panelGrid style="margin-top:15px;">
			<h:outputText value="* Situação da interferência" />
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelSituacaoInterferencia.xhtml" />
		</h:panelGrid>

		<h:panelGrid style="margin-top:15px;">
			<h:outputText value="* Origem do lançamento:" />
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelOrigemLancamento.xhtml" />
		</h:panelGrid>

		<h:panelGrid style="width:100%; " id="panelEsgotamentoSanitario" >
			<h:panelGroup style="margin-top:15px;" rendered="#{cerhController.abaLancamentoEfluentes.esgotamentoSanitario}">
				<fieldset>
					<legend>Esgotamento Sanitário(Abastecimento Público)</legend>
					<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelEsgotamentoSanitario.xhtml" />
				</fieldset>
			</h:panelGroup>
		</h:panelGrid>

		<h:panelGrid style="width:100% ;" id="panelOutros" >
			<h:panelGroup style="margin-top:15px;" rendered="#{cerhController.abaLancamentoEfluentes.outros}">
				<fieldset>
					<legend>* Outros Usos </legend>
					<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelOutros.xhtml" />
				</fieldset>
			</h:panelGroup>
		</h:panelGrid>

		<h:panelGrid columns="2">
			
			<h:panelGrid>
				<h:outputText value="*  Antes do lançamento, o efluente recebe tratamento?" />
				<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelRecebeTratamentoEfluente.xhtml" />
			</h:panelGrid>

			<h:panelGrid id="panelTratamentoEfluente" >				 
				<h:outputText value="* Tratamento do efluente" rendered="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.indEfluenteRecebeTratamento}"/>
				<h:panelGroup rendered="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.indEfluenteRecebeTratamento}">
					<h:graphicImage id="tooltipTratamentoEfluentes" value="/resources/img/ico-ajuda.png"  style="margin: 3px 1px 2px 4px;" />
					<p:tooltip for="tooltipTratamentoEfluentes" showEffect="fade" hideEffect="fade">
						<b>Tratamento preliminar:</b>
						<br/>O objetivo é a retenção dos sólidos em suspensão. Ex. grades, peneiras e caixas de areia.<br/><br/>
						<b>Tratamento primário:</b>
						<br/> Consiste em decantação simples por meio da ação da força da gravidade ou por precipitação química.Ex. decantador primário, tanque imhoff e fossa séptica.<br/><br/>
						<b>Tratamento secundário:</b>
						<br/> Predomina a etapa biológica onde a remoção da matéria orgânica ocorre por reações bioquímicas realizadas pelos microrganismos.Ex. reatores aeróbios/anaeróbios, lagoas de estabilização, lodos ativados, filtro biológico ou variantes.<br/><br/>
						<b>Tratamento terciário:</b>
						<br/> Etapa de remoção de microrganismos e nutrientes do efluente.Ex. filtro de areia, lagoa de polimento, tanque de contato para desinfecção.
					</p:tooltip>
				</h:panelGroup>
			
				<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelTratamentoEfluentesOpcional.xhtml" />
				
			</h:panelGrid>

		</h:panelGrid>

		<h:panelGrid style="width:100%;margin-top:15px;" id="panelDtTratamentoEfluentes">
			<h:outputText value="Parâmetros do efluente" />
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelTratamentoEfluentes.xhtml" />
		</h:panelGrid>


		<h:panelGrid style="width:100%;margin-top:15px;" id="panellancamento">
			<h:outputText value="Dados da operação (Efluente)" />
			<ui:include src="/paginas/manter-cerh/lancamento-efluentes/panelLancamentoEfluentes.xhtml" />
		</h:panelGrid>


		<h:panelGrid style="width:100%" columns="2" id="panelDadosAuxiliares">

			<h:panelGrid columns="1" style="margin-top:15px;">
				<h:outputText  value="Vazão do efluente máximo instantânea (m³/dia)" />
				<p:inputText 
					disabled="true" 
					styleClass="campoNumericoComDecimal-2"
					value="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.ideCerhLocalizacaoGeografica.ideCerhLancamentoEfluenteCaracterizacao.valVazaoMaximaInstantanea}">
					<f:convertNumber/>
				</p:inputText>
			</h:panelGrid>

			<h:panelGrid columns="1" style="margin-top:15px;" rendered="#{cerhController.abaLancamentoEfluentes.processoOutorgado}">
				<h:outputText  value="* Vazão de diluição outorgada (m³/dia)"/>
				<p:inputText
					 id="valVazaoOutorgado"
					 styleClass="campoNumericoComDecimal-2"
					 disabled="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.ideCerhLocalizacaoGeografica.visualizar}" 
 					 value="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.ideCerhLocalizacaoGeografica.ideCerhLancamentoEfluenteCaracterizacao.valVazaoDiluicaoOutorgada}">
					 <f:convertNumber/>
					 <p:ajax event="blur" process="@this"/>
				 </p:inputText>
			</h:panelGrid>

		</h:panelGrid>


		<h:panelGrid style="width:100%;margin-top:15px;" rendered="#{cerhController.abaLancamentoEfluentes.renderObservacacao}">
			<h:outputText  value="Observações"/>
			<p:inputTextarea 
				disabled="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.ideCerhLocalizacaoGeografica.visualizar}" id="inputObservacao" style="width:440px;" rows="5" cols="30" counter="display" maxlength="10" autoResize="false"
				value="#{cerhController.abaLancamentoEfluentes.cerhCaracterizacao.ideCerhLocalizacaoGeografica.ideCerhLancamentoEfluenteCaracterizacao.dscObservacao}"
			/>
		</h:panelGrid>
		
		<div align="right" style="margin-right: 25px; margin-top:25px;">
			<p:commandButton value="Salvar" 
			disabled="#{cerhController.abaLancamentoEfluentes.dto.caracterizacaoDTO.visualizacao}" process="@form, :formLancamentoEfluentes:valVazaoOutorgado" 
			actionListener="#{cerhController.abaLancamentoEfluentes.salvarCaracterizacao()}" />
		</div>

	</h:form>
</ui:composition>