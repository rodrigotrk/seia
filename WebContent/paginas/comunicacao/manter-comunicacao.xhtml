<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	template="../../layout/template.xhtml">
	<ui:define name="titulo-pagina">
        <ui:include src="/layout/csrfToken.xhtml" />
		<h3>Cadastrar Comunicação</h3>
	</ui:define>
	<ui:define name="conteudo-principal">

		<h:form id="formManterComunicacao">
			<h:panelGrid columns="1" id="panel">
				<h:panelGrid columns="2" >
						<h:outputLabel value="Tipo de Comunicação"/>
							<h:outputLabel value="Situação"/>
					<p:selectOneRadio id="tpComunicacao"
						value="#{comunicacaoController.comunicacao.tpComunicacao}">
						<f:selectItem itemLabel="Notificação" itemValue="N" />
						<f:selectItem itemLabel="Temporária" itemValue="T" />
					</p:selectOneRadio>
					<p:selectOneRadio id="indAtiva"
						value="#{comunicacaoController.comunicacao.indAtiva}"
						unselectable="true">
						<f:selectItem itemLabel="Ativo" itemValue="#{true}" />
						<f:selectItem itemLabel="Inativo" itemValue="#{false}" />
					</p:selectOneRadio>
				</h:panelGrid>
				<h:panelGrid>
						<h:outputLabel value="Perfil"/>
				 <p:pickList id="perfil" 
				 value="#{comunicacaoController.perfilDualList}" converter="perfilConverter" var="perfil" itemLabel="#{perfil.dscPerfil}" itemValue="#{perfil}"
				 						addLabel="Adicionar"
						addAllLabel="Adicionar todos"  			 
						removeLabel="Remover"  			 
						removeAllLabel="Remover Todos"   />
				</h:panelGrid>
					<h:outputLabel value="Período"/>
				<h:panelGrid columns="4">
					<h:panelGroup>
						<h:outputText value="Data Inicial   " />
						<p:calendar showOn="button" size="10" alt="Calendário"
							value="#{comunicacaoController.comunicacao.dtcPeriodoInicio}"
							mindate="#{comunicacaoController.dtAtual}"
							readOnlyInputText="true"
							locale="pt" pattern="dd/MM/yyyy" navigator="true"
							yearRange="c-50:c+10" />
					</h:panelGroup>
					<h:outputText value="Data Final" />
					<p:calendar showOn="button" size="10" alt="Calendário"
						value="#{comunicacaoController.comunicacao.dtcPeriodoFim}"
						locale="pt" pattern="dd/MM/yyyy" navigator="true"
						readOnlyInputText="true"
						mindate="#{comunicacaoController.dtAtual}"
						yearRange="c-50:c+10" />
				</h:panelGrid>
				<h:panelGrid columns="2" >
					<h:outputText value="Título" />
					<p:inputText id="dscTitulo" maxlength="100" value="#{comunicacaoController.comunicacao.dscTitulo}" style="width:590px" />
				</h:panelGrid>
				<h:panelGrid columns="1" id="textoComunicacao">
					<h:outputText value="Texto da Comunicação" style="float:left;"/>
					<p:inputTextarea value="#{comunicacaoController.comunicacao.txtConteudo}"
					style="width: 100% !important;" 
					rows="6" cols="100" counter="display"
						maxlength="#{comunicacaoController.textSize}" />
				</h:panelGrid>
				
				<h:panelGrid columns="2" style="float:right;">
				<p:commandButton id="botao_limpar" value="Voltar" action="/paginas/comunicacao/consulta.xhtml?faces-redirect=true" ajax="false" />
				<p:commandButton id="botao_salvar" value="Salvar" action="#{comunicacaoController.salvar()}"  process="@form"  />
				</h:panelGrid>
			</h:panelGrid>
		</h:form>



	</ui:define>
</ui:composition>