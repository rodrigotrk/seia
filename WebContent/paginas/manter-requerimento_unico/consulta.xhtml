<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="../../layout/template.xhtml">
	
	<ui:define name="titulo-pagina">
		<h3>Consultar Requerimento</h3>
	</ui:define>
	<ui:define name="conteudo-principal" >
		<ui:include src="/paginas/manter-lac/erb/cadastro.xhtml" />
		<ui:include src="/paginas/manter-lac/posto/cadastro.xhtml" />
		<ui:include src="/paginas/manter-lac/transportes/lacTransporte.xhtml" />
		<ui:include src="/paginas/manter-fce/asv/fceAsv.xhtml" />
		<ui:include src="/paginas/manter-fce/outorga/intervencao/barragem/tipoBarragem.xhtml" />
		<h3>
			<h:outputLabel styleClass="titulo-grupo" style="font-weight:bold;"
				value="INSTRUÇÕES" />
		</h3>
		<br />
		<h:outputLabel styleClass="titulo-grupo"
			value="Para consultar uma ou mais requerimentos, informe o(s) parâmetro(s) de consulta desejado(s) e clique no botão &#34;Consultar&#34;." />
		<br />
		<br />
		<br />
		<h3>
			<h:outputLabel styleClass="titulo-grupo" style="font-weight:bold;"
				value="PARÂMETROS DA CONSULTA" />
		</h3>

		<h:panelGrid id="pnlGridMsgEnquadramento">
			<h:form rendered="#{requerimentoUnicoController.rendererPoll}" id="formMsgEnquadramento">
				<p:poll interval="1" global="false"	listener="#{requerimentoUnicoController.pollAjax()}" widgetVar="poll" />
			</h:form>
		</h:panelGrid>
		
		<h:form id="formConsultarRequerimento">
			<p:fieldset style="width: 90%;">
				<h:panelGrid id="filtro" columns="1" style="width:720px;">
					<h:panelGrid columns="7">
						<h:outputText value="Requerente" />
						<p:spacer width="10px" height="0px"/>
						<h:outputText  value="Empreendimento" />
						<p:spacer width="10px" height="0px"/>
						<h:outputText  value="Categoria:" />
						<p:spacer width="10px" height="0px"/>
						<h:outputText  value="Ato:" />
						<p:inputText id="nomPessoa"
							value="${requerimentoUnicoController.requerente.pessoaFisica.nomPessoa}"
							disabled="true"
							rendered="#{requerenteController.tipoPessoaDTO.tipoPessoaEnum.equals(requerenteController.tipoPessoaDTO.fisica)}" />
						<p:inputText id="razaoSocial"
							value="${requerimentoUnicoController.requerente.pessoaJuridica.nomRazaoSocial}"
							disabled="true"
							rendered="#{requerenteController.tipoPessoaDTO.tipoPessoaEnum.equals(requerenteController.tipoPessoaDTO.juridica)}" />
						<h:panelGroup>
							<p:commandLink oncomplete="dialogselecionarRequerente.show()"
								type="button" action="${requerenteController.limpar}"
								update="form_dialog_requerente">
								<h:graphicImage title="Selecionar Requerente"
									value="/resources/img/ico-pesquisa.png" />
							</p:commandLink>
						</h:panelGroup>
						<p:selectOneMenu
							value="${requerimentoUnicoController.empreendimentoRequerimento}"
							disabled="${requerimentoUnicoController.requerente == null}">
							<f:converter converterId="empreendimentoConverter" />
							<f:selectItems
								value="${requerimentoUnicoController.empreendimentos}" />
						</p:selectOneMenu>
						<p:spacer width="40px" height="0px"/>
						<p:selectOneMenu id="comboTipoAto" value="#{requerimentoUnicoController.tipoAto}"
							valueChangeListener="#{requerimentoUnicoController.changeTipoAto()}" converter="simpleEntityConverter" styleClass="form-input form-select">
							<f:selectItem itemLabel="Selecione..." />
							<f:selectItems  var="tipoAto" itemValue="#{tipoAto}" itemLabel="#{tipoAto.nomTipoAto}" value="#{requerimentoUnicoController.listaTipoAto}" />
							<p:ajax event="change" update="comboAto" />
						</p:selectOneMenu>
						<p:spacer width="10px" height="0px"/>
						<p:selectOneMenu id="comboAto"  value="#{requerimentoUnicoController.atoAmbiental}" styleClass="form-input form-select"
							converter="simpleEntityConverter">
							<f:selectItem itemLabel="Selecione..." />
							<f:selectItems value="#{requerimentoUnicoController.listaAto}" var="ato" itemValue="#{ato}" itemLabel="#{ato.nomAtoAmbiental}" />
						</p:selectOneMenu>
					</h:panelGrid>
					<h:panelGrid columns="3">
						<h:outputText value="Nº do Requerimento" />
						<h:outputText  />
						<h:outputText value="Status" />
						<p:inputText
							value="${requerimentoUnicoController.numeroRequerimento}"
							maxlength="40" />
						<p:spacer width="15px" height="0px" /> 
						<p:selectOneMenu
							value="${requerimentoUnicoController.statusRequerimento}">
							<f:selectItems value="${requerimentoUnicoController.status}" />
							<f:converter converterId="simpleEntityConverter" />
						</p:selectOneMenu>
					</h:panelGrid>
					<h:panelGrid>
						<h:panelGrid columns="5">
							<h:outputText value="Unidade Regional:" />
							<p:spacer width="60px" height="0px" /> 
							<h:outputText value="Localidade:" />
							<p:spacer width="20px" height="0px"/> 
							<h:outputText  value="Porte:" />
							<p:selectOneMenu id="comboUR" value="#{requerimentoUnicoController.urSelecionada}"  converter="areaConverter" styleClass="form-input form-select" >
								<f:selectItem itemLabel="Selecione..."/>
								<f:selectItems value="#{requerimentoUnicoController.listaUrs}" var="ur" itemValue="#{ur}" itemLabel="#{ur.nomArea}"/>								
							</p:selectOneMenu>
							<p:spacer width="50px" height="0px" />
							<p:selectOneMenu id="comboMunicipio" value="#{requerimentoUnicoController.municipioSelecionado}"  converter="municipioConverter" styleClass="form-input form-select" >
								<f:selectItem itemLabel="Selecione..."/>
								<f:selectItems value="#{requerimentoUnicoController.listaMunicipios}" var="municipio" itemValue="#{municipio}" itemLabel="#{municipio.nomMunicipio}"/>								
							</p:selectOneMenu>
							<p:spacer width="50px" height="0px" />
							<p:selectOneMenu id="comboPorte" value="#{requerimentoUnicoController.requerimentoUnico.idePorte}"
							 converter="porteConverter" styleClass="form-input form-select" >
								<f:selectItem itemLabel="Selecione..."/>
								<f:selectItems value="#{requerimentoUnicoController.listaPortes}" var="porte" itemValue="#{porte}" itemLabel="#{porte.nomPorte}"/>	
						</p:selectOneMenu>
						</h:panelGrid>
					</h:panelGrid>
					<h:panelGrid columns="4">
						<h:outputText value="Período" />
						<h:outputText />
						<h:outputText />
						<h:outputText />
						<h:panelGroup>
							<h:outputText value="De   " />
							<p:calendar showOn="button" size="10" locale="pt"
								pattern="dd/MM/yyyy" navigator="true" mindate="01/01/1900"
								accesskey="true" readOnlyInputText="true"
								value="${requerimentoUnicoController.periodoInicio}"
								label="Data de Inicio" validator="dataPosteriorValidator" />
						</h:panelGroup>
						<h:outputText value="Até" />
						<p:calendar showOn="button" size="10" locale="pt"
							pattern="dd/MM/yyyy" navigator="true" mindate="01/01/1900"
							accesskey="true" readOnlyInputText="true"
							value="${requerimentoUnicoController.periodoFim}" />														
					</h:panelGrid>
					
					<h:panelGrid>
					   <h:panelGrid columns="2" width="350px">
				
				</h:panelGrid>
					</h:panelGrid>
				
				   <h:panelGrid columns="1" width="350px">
						
					</h:panelGrid>
					<h:panelGroup style="float:left">
						<p:commandButton value="Consultar"
							rendered="${security.temAcesso('4.15.4')}"
							actionListener="${requerimentoUnicoController.consultar}"
							update="tabelaRequerimentos" />
						<p:commandButton value="Limpar" process="@this"
							actionListener="${requerimentoUnicoController.limparTela}"
							update="formConsultarRequerimento,filtro,tabelaRequerimentos" />
					</h:panelGroup>
				</h:panelGrid>
				<h:panelGrid id="tabelaRequerimentos" columns="1">
					<p:dataTable id="dataTable" style="width:830px \0/;" lazy="true" binding="#{requerimentoUnicoController.datatableRequerimentos}"
						paginator="true" rows="8" paginatorPosition="bottom"
						paginatorTemplate="{FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
						emptyMessage="#{bundle.consultapf_msg_empty_list}"
						value="#{requerimentoUnicoController.listaRequerimentosDTOModel}"
						var="requerimentoUnico">
						<f:facet name="header">Requerimentos encontrados</f:facet>
						<p:column>
							<f:facet name="header">Requerimento</f:facet>
							<h:outputText value="${requerimentoUnico.requerimento.numRequerimentoTabela}"/>
							<h:graphicImage value="/resources/imagens/atencao.png" rendered="#{requerimentoUnico.empreendimento.municipio.indEstadoEmergencia and !requerimentoUnico.requerimentoUnico.requerimento.indEstadoEmergencia}" />
							<h:graphicImage value="/resources/imagens/emergencia.png" rendered="#{requerimentoUnico.requerimentoUnico.requerimento.indEstadoEmergencia}" />
						</p:column>
						<p:column style="width:78px">
							<f:facet name="header">Abertura</f:facet>
							<h:outputText
								value="${requerimentoUnico.requerimentoUnico.requerimento.dtcCriacao}">
								<f:convertDateTime pattern="dd/MM/yyyy" locale="pt,BR"
									timeZone="Brazil/East" />
							</h:outputText>
						</p:column>
						<p:column>
							<f:facet name="header">Requerente</f:facet>
							<h:outputText
								value="${requerimentoUnico.pessoa.pessoaFisica.nomPessoa} ${requerimentoUnico.pessoa.pessoaJuridica.nomRazaoSocial}" />
						</p:column>
						<p:column>
							<f:facet name="header">Empreendimento</f:facet>
							<h:outputText
								value="${requerimentoUnico.empreendimento.nomEmpreendimento}" />
						</p:column>
						<p:column style="width:85px">
							<f:facet name="header">Status</f:facet>
							<h:outputText
								value="${requerimentoUnico.statusRequerimento.nomStatusRequerimento}" rendered="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento != 8}" />
								<p:commandLink 
								style="position:center"
								rendered="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 8}"
								actionListener="${requerimentoUnicoController.buscarProcessoRequerimento(requerimentoUnico)}"
								oncomplete="dialogNumeroProcesso.show()" process="@this" update="dialogNumeroProcesso" value="${requerimentoUnico.statusRequerimento.nomStatusRequerimento}">
							</p:commandLink>
						</p:column>
						<c:if
							test="${!contextoController.usuarioLogado.usuarioExterno}">
						<p:column  style="width:90px">
							<f:facet name="header">Usuário</f:facet>
							<h:outputText
								value="${requerimentoUnico.pessoaTramitacao.pessoaFisica.nomPessoa} ${requerimentoUnico.pessoaTramitacao.pessoaJuridica.nomRazaoSocial}" />
						</p:column>
						</c:if>
					
						<p:column>
							<f:facet name="header">
								<h:outputText value="#{bundle.consultapf_lbl_acoes}" />
							</f:facet>
							<!-- Teste do relatório Resumo do Requerimento -->
							<h:commandLink id="resumo_Requerimento"
								rendered="#{security.temAcesso('4.34.14')}"
								disabled="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Resumo do Requerimento"
									value="/resources/img/ico-pdf.png" />
								<f:setPropertyActionListener
									target="#{requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
								<p:fileDownload
									value="#{requerimentoUnicoController.gerarResumoRequerimentoPdf}" />
							</h:commandLink>
							<!-- Fim -->
							<!-- Visualizar Requerimento -->
							<h:commandLink
								action="/paginas/requerimentos/incluirRequerimentoUnico.xhtml"
								rendered="#{security.temAcesso('4.15.6')}"
								disabled="#{false}">
								<f:setPropertyActionListener
									target="#{requerimentoUnico.visualizar}" value="#{true}" />
								<f:setPropertyActionListener
									target="#{requerimentoUnico.urlVoltar}"
									value="/paginas/manter-requerimento_unico/consulta.xhtml" />
								<f:setPropertyActionListener
									target="${contextoController.object}"
									value="#{requerimentoUnico}" />
								<h:graphicImage title="Visualizar"
									value="/resources/img/ico-pesquisa.png" />
							</h:commandLink>
							<!-- Fim -->
							<!-- 1 - editar -->
							<h:commandLink
								action="/paginas/requerimentos/incluirRequerimentoUnico.xhtml"
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 1) and security.temAcesso('4.15.3')}"
								disabled="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<f:setPropertyActionListener
									target="#{requerimentoUnico.visualizar}" value="#{false}" />
								<f:setPropertyActionListener
									target="${contextoController.object}"
									value="#{requerimentoUnico}" />
								<f:setPropertyActionListener
									target="#{requerimentoUnico.urlVoltar}"
									value="/paginas/manter-requerimento_unico/consulta.xhtml" />
								<h:graphicImage title="Editar"
									value="/resources/img/ico-alterar.png" />
							</h:commandLink>
							<!-- Fim -->
							<!-- excluir requerimento unico-->
							<h:commandLink
								rendered="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento != 8 and security.temAcesso('4.15.2')}"
								onclick="confirmacaoExclusaoRequerimentoUnico.show();"
								disabled="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Cancelar Requerimento"
									value="/resources/img/ico-excluir.png" />
								<f:setPropertyActionListener
									target="#{contextoController.object}"
									value="#{requerimentoUnico.requerimentoUnico}" />
								<f:setPropertyActionListener
									target="#{requerimentoUnicoController.requerimentoUnicoDTO}"
									value="#{requerimentoUnico}" />
								<f:ajax execute="@this" />
							</h:commandLink>
							<!-- Fim -->
							<!-- 2 - efetuar enquadramento -->
							<p:commandLink
								action="#{requerimentoUnicoController.redirecionarEnquadramento(requerimentoUnico)}"
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 2) and security.temAcesso('4.24.15')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<f:setPropertyActionListener
									target="#{requerimentoUnico.visualizar}" value="#{true}" />
								<f:setPropertyActionListener
									target="#{requerimentoUnico.efetuandoEnquadramento}"
									value="#{true}" />
								<f:setPropertyActionListener
									target="#{contextoController.object}"
									value="#{requerimentoUnico}" />
								<f:setPropertyActionListener
									target="#{requerimentoUnico.urlVoltar}"
									value="/paginas/manter-requerimento_unico/consulta.xhtml" />
								<h:graphicImage title="Efetuar Enquadramento"
									value="/resources/img/document-resize.png" />
							</p:commandLink>
							<!-- 3 - enviar documento-->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 3) and security.temAcesso('4.25.12')}"
								oncomplete="dialogEnviarDocumentoObrigatorio.show();expandAll();" action="#{enviarDocumentoController.carregarTela(requerimentoUnico.requerimentoUnico)}"
								disabled="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}" update=":formulariosdownload :formulariosUpload">
								<h:graphicImage title="Enviar Documentação Obrigatória"
									value="/resources/img/ico-anexo.png" />
							</p:commandLink>
							<!-- Fim -->
							<!-- 4 - efetuar validação prévia-->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 4) and security.temAcesso('4.26.13')}"
								oncomplete="dialogEfetuarValidacaoPrevia.show();expandAllValidacao();" action="#{efetuarValidacaoPreviaController.carregarTela(requerimentoUnico)}" update=":formulariosValidacao"
								disabled="#{requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<f:setPropertyActionListener
									target="${contextoController.object}"
									value="#{requerimentoUnico}" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.emailValidacao}"
									value="#{null}" />
								<h:graphicImage title="Efetuar Validação Prévia"
									value="/resources/img/ico-empreendimento.gif" />
							</p:commandLink>
							<!-- Fim -->
							<!-- 5 - gravar taxa boleto-->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 5) and security.temAcesso('4.27.11')}"
								update="dialogBoletoIncluir,formBoleto,formBoleto:listas_boleto"
								oncomplete="dialogBoletoIncluir.show()" process="@this" action="#{requerimentoUnicoController.carregarDadosTipologiaEmpreendimento()}"
								actionListener="#{requerimentoUnicoController.limparDadosBoleto()}"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}" >
								<h:graphicImage title="Gravar Taxa Boleto"
									value="/resources/img/ico-boleto.png" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.showEmissaoDae}"
									value="#{false}" />
							</p:commandLink>
							<!-- Fim -->
							<!-- 6 - enviar comprovante-->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico, 6) and security.temAcesso('4.28.12')}"
								oncomplete="dialogBoletoDownload.show()"
								action="#{requerimentoUnicoController.verificarEmissaoDae()}"
								update="dialogBoletoDownload"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Enviar Comprovante"
									value="/resources/img/ico-comprovante.png" />
								<f:ajax execute="@this" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
							</p:commandLink>
							<!-- Fim -->
							<!-- 7 - (4.29.13)validar comprovante, baixa manual e gerar processo-->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,7)  and security.temAcesso('4.29.13')}"
								actionListener="${requerimentoUnicoController.prepararValidarBoleto(requerimentoUnico)}"
								oncomplete="dialogBoletoValidarComprovante.show()" process="@this" 
								update="validarComprovanteForm:tabelaComprovantes,validarComprovanteForm:tabelaComprovantesDae,
									validarComprovanteForm,validarComprovanteForm:area"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Validar Boleto"
									value="/resources/img/ico-msg-sucesso.png" />
								<f:setPropertyActionListener
									target="${requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
							</p:commandLink>
							<!-- Gerar relatório de ato declaratório -->
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,8)   and security.temAcesso('4.35.14')}"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Relatório de Ato Declaratório"
									value="/resources/img/ico-pdf.png" />
								<f:setPropertyActionListener
									target="#{requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
								<p:fileDownload
									value="#{requerimentoUnicoController.gerarDocumentoDeclaracaoPdf}" />
							</h:commandLink>
							<!-- Fim -->
							<!-- Gerar relatório de DLA -->
							<h:commandLink
								rendered="#{requerimentoUnico.requerimentoUnico.indDla and security.temAcesso('4.36.14')}"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar DLA"
									value="/resources/img/ico-pdf.png" />
								<f:setPropertyActionListener
									target="#{requerimentoUnicoController.requerimentoUnicoDTO}"
									value="${requerimentoUnico}" />
								<p:fileDownload
									value="#{requerimentoUnicoController.gerarDocumentoDLA}" />
							</h:commandLink>
							<!-- Visualizar Lac de ERB -->
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,9) and security.temAcesso('4.37.6')}"
								oncomplete="lac.show();" update="form_lac"
								action="#{lacErbController.visualizar}"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Visualizar Lac de ERB"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{lacErbController.lacErb.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
							</p:commandLink>
							<!-- Visualizar Lac de Posto -->							
							<p:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,12) and security.temAcesso('4.38.6')}"
								oncomplete="lac_posto.show();"
								update="posto_tab,form_dados,form_abastecimento,form_controle,form_manutencao"
								action="#{lacPostoController.visualizar}"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Visualizar Lac de Posto"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{lacPostoController.lacPostoCombustivel.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
							</p:commandLink>
							<!-- Imprimir Relatório Final da Lac de ERB -->	
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,11) and requerimentoUnicoController.isLacErb(requerimentoUnico) and security.temAcesso('4.39.5')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Imprimir Relatório Final da Lac de ERB"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{lacErbController.lacErb.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
								<p:fileDownload
									value="#{lacErbController.imprimirRelatorioFinalLac}" />
							</h:commandLink>
							<!-- Imprimir Relatório Final da Lac de Posto -->	
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,11) and requerimentoUnicoController.isLacPosto(requerimentoUnico) and security.temAcesso('4.40.5')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Imprimir Relatório Final da Lac de Posto"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{lacPostoController.lacPostoCombustivel.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
								<p:fileDownload
									value="#{lacPostoController.imprimirRelatorioFinal}" />
							</h:commandLink>
							<!-- Imprimir Relatório Final da Lac Transportadora -->	
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,16) and requerimentoUnicoController.isLacTransportadora(requerimentoUnico) and security.temAcesso('4.55.5')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Imprimir Relatório Final da Lac Transportadora"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{lacTransporteController.requerimentoUnico}"
									value="#{requerimentoUnico.requerimentoUnico}" />
								<p:fileDownload
									value="#{lacTransporteController.imprimirRelatorioFinal}" />
							</h:commandLink>
							<!-- Imprimir Relatório Final da FCE ASV -->	
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,17) and requerimentoUnicoController.isFceAsv(requerimentoUnico) and security.temAcesso('4.56.5')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Imprimir Relatório Final da FCE ASV"
									value="/resources/img/licon.png" />
								<f:setPropertyActionListener
									target="#{asvDadosGeraisController.requerimentoUnico}"
									value="#{requerimentoUnico.requerimentoUnico}" />
								<p:fileDownload
									value="#{asvSupressaoController.imprimirRelatorio}" />
							</h:commandLink>
							<!-- Gerar Certificado Lac de ERB -->	
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,10) and requerimentoUnicoController.isLacErb(requerimentoUnico) and security.temAcesso('4.41.14')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Certificado Lac de ERB"
									value="/resources/img/cicon.png" />
								<f:setPropertyActionListener
									target="#{lacErbController.lacErb.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
								<p:fileDownload value="#{lacErbController.imprimirCertificado}" />
							</h:commandLink>
							<!-- Gerar Certificado Lac -->
							<h:commandLink
								rendered="#{requerimentoUnicoController.isConversaoTcraLac(requerimentoUnico) and requerimentoUnicoController.isRequerimentoPago(requerimentoUnico)  and !requerimentoUnicoController.rendered(requerimentoUnico,10) and  security.temAcesso('4.42.14')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Certificado Lac"
									value="/resources/img/cicon.png" />
								<f:setPropertyActionListener
									target="#{lacPostoController.lacPostoCombustivel.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
								<p:fileDownload
									value="#{lacPostoController.getImprimirCertificadoTcraLac(requerimentoUnico)}" />
							</h:commandLink>
							<!-- Gerar Certificado Lac de Posto -->
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,10) and requerimentoUnicoController.isLacPosto(requerimentoUnico) and security.temAcesso('4.43.14')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Certificado Lac de Posto"
									value="/resources/img/cicon.png" />
								<f:setPropertyActionListener
									target="#{lacPostoController.lacPostoCombustivel.ideRequerimento.ideRequerimento}"
									value="#{requerimentoUnico.requerimentoUnico.ideRequerimentoUnico}" />
								<p:fileDownload
									value="#{lacPostoController.imprimirCertificado}" />
							</h:commandLink>	
								<!-- Gerar Certificado Lac de Transportadora -->
							<h:commandLink
							rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,10) and requerimentoUnicoController.isLacTransportadora(requerimentoUnico) and security.temAcesso('4.54.14')}" 
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Certificado Lac de Transportadora"
									value="/resources/img/cicon.png" />
								<f:setPropertyActionListener
									target="#{lacTransporteController.requerimentoUnico}"
									value="#{requerimentoUnico.requerimentoUnico}" />							
								<p:fileDownload
									value="#{lacTransporteController.imprimirCertificado}" />
							</h:commandLink>			
							<!-- Gerar Certificado de Corte de Floresta -->				
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,14) and  security.temAcesso('4.44.14')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage title="Gerar Certificado de Registro de Corte de Floresta Plantada"
									value="/resources/img/ico-tesoura.png" />
								<p:fileDownload
									value="#{requerimentoUnicoController.getImprimirRelatorioCorteFloresta(requerimentoUnico)}" />
							</h:commandLink>
							<!-- Gerar Certificado de Floresta de Produção Plantada -->			
							<h:commandLink
								rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,15) and  security.temAcesso('4.45.14')}"
								ajax="false"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}">
								<h:graphicImage
									title="Gerar Certificado de Registro de Floresta de Produção Plantada"
									value="/resources/img/ico-pdf.png" />
								<p:fileDownload
									value="#{requerimentoUnicoController.getRegistroCorteFlorestaProducaoPlantada(requerimentoUnico)}" />
							</h:commandLink>
							<!-- Visualizar historico comunicacao requerente -->
							<p:commandLink rendered="#{security.temAcesso('4.46.6')}"
								action="${comunicacaoRequerenteController.carregarTela()}" oncomplete="dialoghistoricoComunicacao.show()"
								disabled="${requerimentoUnico.statusRequerimento.ideStatusRequerimento == 9}" update="formHistorico">
								<f:setPropertyActionListener
									target="${contextoController.object}"
									value="#{requerimentoUnico.requerimentoUnico.requerimento}" />
								<h:graphicImage
									title="Visualizar Histórico de Comunicação com o Requerente"
									value="/resources/img/ico-mnp.gif" />
							</p:commandLink>
							
							<!-- Voltar status -->
							<p:commandLink rendered="#{requerimentoUnicoController.rendered(requerimentoUnico,18) and  security.temAcesso('4.59.11')}" oncomplete="dialogAlteracaoStatus.show()" 
								action="#{requerimentoUnicoController.preparaPopupAlteracaoStatus(requerimentoUnico)}" update="formAlteracaoStatus">
								
								<h:graphicImage title="Alterar status" value="/resources/img/voltar.png" />
							</p:commandLink>
							
						</p:column>
					</p:dataTable>
				</h:panelGrid>
			</p:fieldset>
		</h:form>
		<!-- Confirmacao exclusao Requerimento Unico -->
		<h:form id="confirmacaoExclusaoRequerimentoUnico">
			<p:confirmDialog id="confirmacaoExclusaoRequerimentoUnico"
				widgetVar="confirmacaoExclusaoRequerimentoUnico"
				header="#{bundle.geral_lbl_mensagem}" closable="false"
				message=" Deseja realmente cancelar o Requerimento ?">
				<h:panelGroup>
					<div style="text-align: center;">
						<p:commandButton value="#{bundle.btn_sim}"
							action="#{requerimentoUnicoController.excluirRequerimentoUnico}"
							onclick="confirmacaoExclusaoRequerimentoUnico.hide();"
							process="@this" />
						<p:commandButton value="#{bundle.btn_nao}"
							onclick="confirmacaoExclusaoRequerimentoUnico.hide();"
							process="@this" />
					</div>
				</h:panelGroup>
			</p:confirmDialog>
		</h:form>
		<p:dialog id="dialogselecionarRequerente" dynamic="true"
			header="Selecionar Requerente" widgetVar="dialogselecionarRequerente"
			modal="true" position="center" resizable="false">
			<ui:include
				src="/paginas/manter-requerimento_unico/selecionarRequerente.xhtml" />
		</p:dialog>
		<!-- Gerar Boleto -->
		<p:dialog id="dialogBoletoIncluir" widgetVar="dialogBoletoIncluir"
			modal="true" closable="false" resizable="false"
			header="Gravar Taxa Boleto" appendToBody="true">
			<ui:include
				src="/paginas/manter-requerimento_unico/gravarTaxaBoleto.xhtml" />
		</p:dialog>

		<h:form id="formBoletoconfirmaacaovoltarboleto">
		<p:confirmDialog id="confirmacaoVoltarBoleto"
			widgetVar="confirmacaoVoltarBoleto" 
			header="#{bundle.geral_lbl_mensagem}" closable="false"
			message="#{bundle.geral_msg_confirmar_cancelar}" severity="alert">
			<h:panelGroup>
				<div style="text-align: center;">
					<p:commandButton type="reset" value="#{bundle.btn_sim}" 
						onclick="dialogBoletoIncluir.hide();confirmacaoVoltarBoleto.hide();" />
					<p:commandButton value="#{bundle.btn_nao}" type="button"
						onclick="confirmacaoVoltarBoleto.hide();" />
				</div>
			</h:panelGroup>
		</p:confirmDialog>
	</h:form>

	<h:form id="formBoletoconfirmaacaoboleto">
		<p:confirmDialog id="confirmacaoBoleto" widgetVar="confirmacaoBoleto"
			header="#{bundle.geral_lbl_mensagem}"
			message="#{bundle.requerimento_msg_boleto_confirmar}"
			severity="alert">
			<h:panelGroup>
				<div style="text-align: center;">
					<p:commandButton id="confirmarInclusaoBoleto"
						value="#{bundle.btn_sim}"
						update="formConsultarRequerimento:tabelaRequerimentos"
						action="${requerimentoUnicoController.gerarBoleto()}"
						process="@form" />
					<p:commandButton value="#{bundle.btn_nao}" type="button"
						onclick="confirmacaoBoleto.hide()" />
				</div>
			</h:panelGroup>
		</p:confirmDialog>
	</h:form>

		<!-- Baixar boleto e upload comprovante -->
		<p:dialog id="dialogBoletoDownload" widgetVar="dialogBoletoDownload" 
			closable="false" resizable="false" modal="true" width="620"
			style=" left: 500px !important;">
			<ui:include
				src="/paginas/manter-requerimento_unico/boletoDownload.xhtml" />
		</p:dialog>
		
		<p:confirmDialog id="confirmacaoVoltarComprovante"
			widgetVar="confirmacaoVoltarComprovante"
			header="#{bundle.geral_lbl_mensagem}"
			message="#{bundle.geral_msg_confirmar_nao_salvar}" severity="alert">
		 	<h:form>
		 	<h:panelGroup>
				<div style="text-align: center;">
					<p:commandButton value="#{bundle.btn_sim}"
						action="${requerimentoUnicoController.limpaCamposUploadComprovante()}"
						oncomplete="dialogBoletoDownload.hide();confirmacaoVoltarComprovante.hide();" />
					<p:commandButton value="#{bundle.btn_nao}" type="button"
						onclick="confirmacaoVoltarComprovante.hide();" />
				</div>
			</h:panelGroup>
			</h:form>
		</p:confirmDialog>


		<!-- Validar comprovante, baixa manual e gerar processo-->
		<p:dialog widgetVar="fileUploadComprovantes"
			id="fileUploadComprovantes" modal="true" draggable="true"
			position="center" resizable="false"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto;">
			<h:form enctype="multipart/form-data">
				<p:fileUpload uploadLabel="false" label="Upload Arquivo"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{requerimentoUnicoController.trataArquivoValidacaoBoleto()}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUploadDocObrigatorios.hide(); remoteCommandUpdateDataTable();"
					value="#{enviarDocumentoController.documentoObrigatorioSelecionado}" />
					<p:remoteCommand name="remoteCommandUpdateDataTable" update="formulariosUpload tabelaDocumentosIdentificacao"/> 
			</h:form>
		</p:dialog>
		<h:form id="validarComprovanteForm">
			<p:dialog id="dialogBoletoValidarComprovante" modal="true"
				closable="false" widgetVar="dialogBoletoValidarComprovante"
				width="730" resizable="false">
				<ui:include
				src="/paginas/manter-requerimento_unico/validarComprovante.xhtml" />
			</p:dialog>
			
			<p:confirmDialog id="confirmacaoVoltarValidarComprovante"
				widgetVar="confirmacaoVoltarValidarComprovante"
				header="#{bundle.geral_lbl_mensagem}"
				message="#{bundle.geral_msg_confirmar_nao_salvar}" severity="alert">
				<h:panelGroup>
					<div style="text-align: center;">
						<p:commandButton type="reset" value="#{bundle.btn_sim}"
							onclick="dialogBoletoValidarComprovante.hide();confirmacaoVoltarValidarComprovante.hide();" />
						<p:commandButton value="#{bundle.btn_nao}" type="button"
							onclick="confirmacaoVoltarValidarComprovante.hide();" />
					</div>
				</h:panelGroup>
			</p:confirmDialog>
		<p:remoteCommand action="#{requerimentoUnicoController.consultar()}" name="consultarRequerimentoUnico" update="formConsultarRequerimento:tabelaRequerimentos" />
		</h:form>
		<!-- Enviar Documentação Obrigatoria  -->
		<p:dialog id="dialogEnviarDocumentoObrigatorio" modal="true"
			closable="false" appendToBody="true" minimizable="false"
			widgetVar="dialogEnviarDocumentoObrigatorio" width="830"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto; top:0px \0/ !important; margin-left: 50px \0/ !important"
			resizable="false">
			<ui:include
				src="/paginas/manter-enviardocobrigatorio/enviarDocumento.xhtml" />
		</p:dialog>
		<p:dialog widgetVar="fileUploadDocObrigatorios"
			id="fileUploadDocObrigatorios" modal="true" draggable="true"
			position="center" resizable="false"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto; margin-left: 50px \0/ !important">
			<h:form enctype="multipart/form-data">
				<p:fileUpload uploadLabel="false" label="Upload Arquivo"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{enviarDocumentoController.handleFileUploadDocumentoObrigatorio}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUploadDocObrigatorios.hide();remoteCommandUpdateDataTable();"
					value="#{enviarDocumentoController.documentoObrigatorioSelecionado}" />
					<p:remoteCommand name="remoteCommandUpdateDataTable" update="formulariosUpload" oncomplete="expandAll();"/> 
			</h:form>
		</p:dialog>
			<p:dialog widgetVar="fileUploadDocIdentificacao"
			id="fileUploadDocIdentificacao" modal="true" draggable="true"
			position="center" resizable="false"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto; margin-left: 50px \0/ !important" >
			<h:form enctype="multipart/form-data">
				<p:fileUpload uploadLabel="false" label="Upload Arquivo"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{enviarDocumentoController.handleFileUploadDocumentoIdentificacao()}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUploadDocIdentificacao.hide(); remoteCommandUpdateDataTable2();"
					value="#{enviarDocumentoController.documentoIdentificacaoSelecionado}" />
					<p:remoteCommand name="remoteCommandUpdateDataTable2" update="formulariosUpload:tabelaDocumentosIdentificacao" oncomplete="expandAll();"/> 
			</h:form>
		</p:dialog>
		<p:dialog widgetVar="fileUploadDocIdentificacaoValidacao"
			id="fileUploadDocIdentificacaoValidacao" modal="true" draggable="true"
			position="center" resizable="false"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto; margin-left: 50px \0/ !important ">
			<h:form enctype="multipart/form-data">
				<p:fileUpload uploadLabel="false" label="Upload Arquivo"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{efetuarValidacaoPreviaController.handleFileUploadDocumentoIdentificacao()}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUploadDocIdentificacaoValidacao.hide();  remoteCommandUpdateDataTable3();"
					value="#{efetuarValidacaoPreviaController.documentoIdentificacaoSelecionado}" />
					<p:remoteCommand name="remoteCommandUpdateDataTable3" update="formulariosUpload" oncomplete="expandAll();"/> 
			</h:form>
		</p:dialog>
		<p:dialog widgetVar="fileUploadDocRepresentacaoValidacao"
			id="fileUploadDocRepresentacaoValidacao" modal="true" draggable="true"
			position="center" resizable="false"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true"
			style="max-height:80%; overflow: auto; border-collapse:collapse; margin: 100px auto 0px auto; margin-left: 50px \0/ !important">
			<h:form enctype="multipart/form-data">
				<p:fileUpload uploadLabel="false" label="Upload Arquivo"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{efetuarValidacaoPreviaController.handleFileUploadDocumentoRepresentacao()}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUploadDocIdentificacaoValidacao.hide(); remoteCommandUpdateDataTable4();"
					value="#{efetuarValidacaoPreviaController.documentoRepresentacaoSelecionado}" />
				<p:remoteCommand name="remoteCommandUpdateDataTable4" update="formulariosValidacao" oncomplete="expandAll();"/> 
			</h:form>
		</p:dialog>
		<p:confirmDialog appendToBody="true"
			message="#{bundle.geral_msg_informacoes_nao_foram_salvas_deseja_continuar}"
			header="Confirmação" severity="alert" widgetVar="confirmationVoltar"
			id="confirmationVoltar">
			<h:form>
				<p:commandButton value="Sim" update="envioFormulariosObrigatorios"
					oncomplete="confirmationVoltar.hide();dialogEnviarDocumentoObrigatorio.hide();" />
				<p:commandButton value="Não" onclick="confirmationVoltar.hide();"
					type="button" />
			</h:form>
		</p:confirmDialog>

		<!-- Efetuar validação prévia -->
		<p:dialog id="dialogEfetuarValidacaoPrevia" modal="true"
			appendToBody="true" closable="false" position="center"
			widgetVar="dialogEfetuarValidacaoPrevia"
			style="max-height:80%; overflow: auto; border-collapse:collapse;  top:0px \0/ !important "
			resizable="false">
			<ui:include
				src="/paginas/manter-efetuarvalidacaoprevia/efetuarValidacaoPrevia.xhtml" />
		</p:dialog>
		<p:dialog widgetVar="fileUpload" id="fileUpload" modal="true"
			resizable="false" position="center"
			header="#{bundle.validacao_previa_lbl_selecione_arquivo}"
			appendToBody="true">
			<h:form>
				<p:fileUpload uploadLabel="false" label="Upload Formulários"
					invalidFileMessage="Tipo de arquivo inválido."
					fileUploadListener="#{efetuarValidacaoPreviaController.handleFileUploadFormularioObrigatorio()}"
					mode="advanced"
					auto="true" allowTypes="/(\.|\/)(pdf|gif|jpeg|png|jpg)$/"
					oncomplete="fileUpload.hide();statusDialog.hide(); remoteCommandUpdateDataTable5();"
					value="#{efetuarValidacaoPreviaController.fileUploaded}" />
				<p:remoteCommand name="remoteCommandUpdateDataTable5" update=":formulariosValidacao:uploadFormulario" oncomplete="expandAll();"/> 
			</h:form>
		</p:dialog>
		
		<p:confirmDialog id="confirmarFecharValidacao"
			widgetVar="confirmarFecharValidacao" appendToBody="true"
			header="#{bundle.geral_lbl_mensagem}"
			message="O cadastro ainda não foi concluído. Deseja cancelá-lo?"
			severity="alert">
			<h:form>
				<h:panelGroup>
					<p:commandButton type="submit" value="#{bundle.btn_sim}"
						oncomplete="confirmarFecharValidacao.hide();dialogEfetuarValidacaoPrevia.hide();"/>
					<p:commandButton value="#{bundle.btn_nao}" type="button"
						onclick="confirmarFecharValidacao.hide();dialogEfetuarValidacaoPrevia.show();" />
				</h:panelGroup>
			</h:form>
		</p:confirmDialog>
		<p:confirmDialog id="confirmarEnvioEmail" 
			widgetVar="confirmarEnvioEmail" appendToBody="true"
			header="#{bundle.geral_lbl_mensagem}"
			message="Deseja enviar um email para o requerente solicitando o envio da documentação não validada?"
			resizable="false"
			severity="alert">
			<h:form>
				<h:panelGroup>
					<p:commandButton type="submit" value="#{bundle.btn_sim}" rendered="#{empty requerimentoUnicoController.emailValidacao}" 
						oncomplete="dialogEmail.show();confirmarEnvioEmail.hide();"
						update="dialogEmail" />
					<p:commandButton type="submit" value="#{bundle.btn_sim}" rendered="#{!empty requerimentoUnicoController.emailValidacao}" 
						oncomplete="emailValidacao.show();confirmarEnvioEmail.hide();"
						update="dialogEmail" />
					<p:commandButton value="#{bundle.btn_nao}" type="button"
						onclick="confirmarEnvioEmail.hide();emailValidacao.hide();dialogEfetuarValidacaoPrevia.hide()" update="formConsultarRequerimento:tabelaRequerimentos" 
					/>
				</h:panelGroup>
			</h:form>
		</p:confirmDialog>
		
		<p:dialog id="emailValidacao"  dynamic="true" widgetVar="emailValidacao"  appendToBody="true"
			header="Email Validação Pendente" width="469" height="150" resizable="false">
			
			<h:form>			
				<h:panelGrid>				
					<p:inputTextarea cols="75" rows="5" value="#{requerimentoUnicoController.emailValidacao}" maxLength="1500"/>			
				</h:panelGrid>
				<h:panelGrid columns="2" style="float:right;">
					<p:commandButton value="Voltar" oncomplete="emailValidacao.hide();"/>
					<p:commandButton value="Enviar Email" process="@form" action="#{requerimentoUnicoController.enviarEmailPendenciaValidacao()}" update="formConsultarRequerimento:tabelaRequerimentos"/>
				</h:panelGrid>	
			</h:form>
		</p:dialog>

			<p:dialog id="dialoghistoricoComunicacao" 
				appendToBody="true" closable="false"
				header="#{bundle.geral_lbl_mensagem}"
				widgetVar="dialoghistoricoComunicacao"
				modal="true"
				style="max-height:80%; overflow: auto; border-collapse:collapse;  top:0px \0/ !important "
				resizable="false">
				<ui:include
					src="/paginas/manter-requerimento_unico/visualizarHistoricoComunicacaoRequerente.xhtml" />
			</p:dialog>

			<p:dialog id="dialogAlteracaoStatus" appendToBody="true" header="#{bundle.alteracao_status_lbl_titulo}" widgetVar="dialogAlteracaoStatus" 
				modal="true" resizable="false" closable="false" position="center">
				
				<div style="width: 400px;">
					<ui:include	src="/paginas/novo-requerimento/alteracaoStatus.xhtml"/>
				</div>
			</p:dialog>
			
			<script type="text/javascript">
					function verificar(input) {

						  var $this = input; //save reference to element for use laster

						  if($this.value.length > 4000){
							$this.value = $this.value.substring(0,4000);	
						  }	

					};
			</script>
			
			<p:dialog id="dialogEmail" 
				header="#{bundle.geral_lbl_mensagem}" 
				appendToBody="true" closable="false" position="center"
				widgetVar="dialogEmail" modal="true"
				style="max-height:80%; overflow: auto; border-collapse:collapse;  top:30px \0/ !important ;"
				resizable="false"> 
				<h:form>
					<p:inputTextarea styleClass="emailPendencia" onblur="verificar(this);" onkeydown="verificar(this);" onkeyup="verificar(this);" 
						 value="#{efetuarValidacaoPreviaController.email}" rows="30" cols="100" autoResize="true" maxLength="4000" >
						<p:focus/>	 
					</p:inputTextarea>
					<p:commandButton type="submit" value="Voltar"
						oncomplete="dialogEmail.hide()"
					 />
					<p:commandButton value="Enviar Email" type="submit"
						action="#{efetuarValidacaoPreviaController.enviarEmailPendenciaValidacao()}"
						onclick="confirmarEnvioEmail.hide();dialogEfetuarValidacaoPrevia.hide();dialogEmail.hide()" update="formConsultarRequerimento:tabelaRequerimentos" 
					/>
				</h:form>
			</p:dialog>
			
			
			<p:dialog id="dialogNumeroProcesso"
				header="Número Processo" 
				appendToBody="true" closable="false" position="center"
				widgetVar="dialogNumeroProcesso" modal="true"
				style="max-height:80%; overflow: auto; border-collapse:collapse;  top:0px \0/ !important "
				resizable="false">
				<h:form>
					<h:panelGrid  columns="2">
						<h:outputText value="Número do Processo:" />
						<h:outputText value="#{requerimentoUnicoController.numeroProcessoRequerimento}" />
					 </h:panelGrid>
					 <br/>
					<div align="center"> 
						<p:commandButton style="" type="submit" value="OK" 
							oncomplete="dialogNumeroProcesso.hide()"
					 	/>
					 </div>
				</h:form>
			</p:dialog>
			
			<ui:include src="/paginas/manter-localizacao-geografica/localizacao-geografica-generic.xhtml" />
			
			<p:dialog header="#{bundle.empreendimento_lbl_incluir_ponto}" widgetVar="dialogIncluirVerticeGeneric" style="z-index: 99999;top:300px;left:400px;" modal="true"
				  id="dialogIncluirVerticeGeneric" resizable="false" appendToBody="true" >
			<h:form id="locGeograficaVerticesGeneric" onmouseover="RemovMenosFracGrau();" style="z-index: 99999;">
				<h:outputLabel>
					<em>*</em>
					<h:outputLabel value="#{bundle.incluirvertice_lbl_informar_coordenada}" />
					<br />
					<p:selectOneRadio label="#{bundle.incluirvertice_lbl_informar_coordenada}" value="#{localizacaoGeograficaGenericController.selectedModoCoordenada}" id="ModoCoordenada">
						<f:selectItem itemLabel="#{bundle.incluirvertice_lbl_latitude_longitude_grau_minuto_segundo}" itemValue="1" /><br />
						<f:selectItem itemLabel="#{bundle.incluirvertice_lbl_grau_fracao_grau}" itemValue="2" />
						<p:ajax event="change" process="ModoCoordenada" update="hideModal" immediate="true"/>
					</p:selectOneRadio>
				</h:outputLabel>
				<br />
				<h:panelGrid>
					<h:panelGrid id="hideModal">
						<h:panelGrid columns="1" rendered="#{localizacaoGeograficaGenericController.selectedModoCoordenada == '1'}">
							<h:panelGrid columns="3" id="latitude">
								<h:panelGroup>
									<h:outputLabel value="* #{bundle.empreendimento_lbl_latitude}" for="grausLatitude" />
									<br />
									<p:inputText label="#{bundle.empreendimento_lbl_latitude}" value="#{localizacaoGeograficaGenericController.grausLatitude}" onkeyup="SomenteNumero(this);"
										 onblur="verificaLatitude(this);" id="grausLatitude" style="width: 40px;"/>&nbsp;°&nbsp;
										 
									<p:inputText label="#{bundle.empreendimento_lbl_latitude}" value="#{localizacaoGeograficaGenericController.minutosLatitude}" onkeyup="SomenteNumero(this);"
										 onblur="verificaMinutoSegundo(this);" id="minutosLatitude" style="width: 40px;"/>&nbsp;'&nbsp;
										 
									<p:inputText label="#{bundle.empreendimento_lbl_latitude}" value="#{localizacaoGeograficaGenericController.segundosLatitude}" onkeyup="SomenteNumero(this);"
										 onblur="verificaMinutoSegundo(this);" id="segundosLatitude" style="width: 40px;"/>&nbsp;"&nbsp;S
								</h:panelGroup>
								<h:commandLink actionListener="#{localizacaoGeograficaGenericController.calculaFracaoGrauLatitude}">
									<h:graphicImage title="Calcular Fração Grau Latitude" value="/resources/img/arrow-circle-double-135.png" />
									<f:ajax execute="@form" render="latitude" />
								</h:commandLink>
								<h:panelGroup>
									<h:outputLabel value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" />
									<br />
									<p:inputText value="#{localizacaoGeograficaGenericController.fracaoGrauLatitude}" maxlength="9" readonly="true" />
								</h:panelGroup>
							</h:panelGrid>
							<h:panelGrid columns="3" id="longitude">
								<h:panelGroup>
									<h:outputLabel value="* #{bundle.empreendimento_lbl_longitude}" for="grausLongitude" />
									<br />
									<p:inputText value="#{localizacaoGeograficaGenericController.grausLongitude}" onkeyup="SomenteNumero(this);"
									 onblur="verificaLongitude(this);" id="grausLongitude" style="width: 40px;"/>&nbsp;°&nbsp;
									<p:inputText value="#{localizacaoGeograficaGenericController.minutosLongitude}" onkeyup="SomenteNumero(this);"
									 onblur="verificaMinutoSegundo(this);" id="minutosLongitude" style="width: 40px;"/>&nbsp;'&nbsp;
									<p:inputText value="#{localizacaoGeograficaGenericController.segundosLongitude}" onkeyup="SomenteNumero(this);"
									 onblur="verificaMinutoSegundo(this);" id="segundosLongitude" style="width: 40px;"/>&nbsp;"&nbsp;W
								</h:panelGroup>
								<h:commandLink actionListener="#{localizacaoGeograficaGenericController.calculaFracaoGrauLongitude}">
									<h:graphicImage title="Calcular Fração Grau Longitude" value="/resources/img/arrow-circle-double-135.png" />
									<f:ajax execute="@form" render="longitude" />
								</h:commandLink>
								<h:panelGroup>
									<h:outputLabel value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" />
									<br />
									<p:inputText value="#{localizacaoGeograficaGenericController.fracaoGrauLongitude}" maxlength="9" readonly="true" />
								</h:panelGroup>
							</h:panelGrid>
						</h:panelGrid>
						<h:panelGrid rendered="#{localizacaoGeograficaGenericController.selectedModoCoordenada == '2'}">
							<h:panelGroup>
								<h:outputLabel value="* #{bundle.empreendimento_lbl_latitude}" for="latitudeFracaoGrau" /> - <h:outputLabel value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" />
								<br />-&nbsp;<p:inputMask mask="99,999999" value="#{localizacaoGeograficaGenericController.fracaoGrauLatitudeDecimal}" onblur="verificaLatitude(this);" onchange="RemoveMenos(this);" onfocus="RemoveMenos(this);" id="latitudeFracaoGrau" required="true" label="#{bundle.empreendimento_lbl_latitude}"/>
							</h:panelGroup>
							<h:panelGroup>
								<h:outputLabel value="* #{bundle.empreendimento_lbl_longitude}" for="longitudeFracaoGrau" /> - <h:outputLabel value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" />
								<br />-&nbsp;<p:inputMask mask="99,999999" value="#{localizacaoGeograficaGenericController.fracaoGrauLongitudeDecimal}" onblur="verificaLongitude(this);" onchange="RemoveMenos(this);" onfocus="RemoveMenos(this);" id="longitudeFracaoGrau" required="true" label="#{bundle.empreendimento_lbl_longitude}"/>
							</h:panelGroup>
							<h:outputLabel value="#{bundle.loc_geo_aviso_digito_decimal}" style="color: red;" />
						</h:panelGrid>
					</h:panelGrid>
					<br />
					<h:panelGroup>
					
					
						<div style="text-align: center;">
							<p:commandButton update="@form" actionListener="${localizacaoGeograficaGenericController.limparVertice()}" value="#{bundle.geral_lbl_limpar}"/>
							<p:commandButton value="#{bundle.geral_lbl_salvar}" update=":locGeografica:tabelaVertices locGeografica" actionListener="#{localizacaoGeograficaGenericController.salvarVertice}" oncomplete="dialogIncluirVerticeGeneric.hide();"/>
						</div>
					</h:panelGroup>
					<br />
					<h:outputLabel value="#{bundle.lbl_preench_obrig_asterisc}" style="float: left;" />
				</h:panelGrid>
			</h:form>
		</p:dialog>
	</ui:define>
</ui:composition>