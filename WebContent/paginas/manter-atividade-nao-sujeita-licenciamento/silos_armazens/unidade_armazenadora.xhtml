<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:h="http://java.sun.com/jsf/html" 
				xmlns:f="http://java.sun.com/jsf/core" 
				xmlns:ui="http://java.sun.com/jsf/facelets" 
				xmlns:p="http://primefaces.prime.com.tr/ui">
				

			<h:panelGrid columns="2">
					<h:outputText value="Cadastro da(s) unidade(s) armazenadora(s)"  style="font-weight: bold;"/>
					<h:graphicImage id="ajudah" value="/resources/img/ico-ajuda.png" />
					<p:tooltip for="ajudah" value="As unidades armazenadoras são os prédios ou instalações construídas ou adaptadas para a armazenagem de produtos."  />
			</h:panelGrid>
			
			<p:spacer height="10"/>
			
			<h:panelGrid>

					<p:commandLink oncomplete="dialogCadastrarUnidade.show();" actionListener="#{silosArmazensController.carregarCadastrarUnidade()}" process="@this" disabled="#{silosArmazensController.isVisivel}">

						<h:outputText
							value="Incluir unidade armazenadora"
							style="margin-right:5px;" />
						<h:graphicImage value="/resources/img/ico-expandir.png" />
						<f:setPropertyActionListener value="#{false}" target="#{silosArmazensController.isUnidadeEditavel}"></f:setPropertyActionListener>
					</p:commandLink>
			</h:panelGrid>		
			
			
			<h:panelGroup id="gridUnidadeArmazenadora">
			
				<h:panelGrid rendered="#{not empty silosArmazensController.silosArmazen.silosArmazensUnidadeArmazenadoras}">
					<p:dataTable value="#{silosArmazensController.silosArmazen.silosArmazensUnidadeArmazenadoras}" var="unidade">
						<p:column headerText="Identificação">
							<h:outputText value="#{unidade.nomUnidadeArmazenadora}" />						
						</p:column>
					
						<p:column headerText="Código">
							<h:outputText value="#{unidade.codCda}" />
						</p:column>
						<p:column headerText="Ações">
							<p:commandLink oncomplete="confirmaExclusaoUnidArmazenadora.show();"
								process="@this" disabled="#{silosArmazensController.isVisivel}">
								<f:setPropertyActionListener value="#{unidade}" target="#{silosArmazensController.excluirArmazensUnidadeArmazenadora}"/>
								<h:graphicImage title="Excluir"
									value="/resources/img/ico-excluir.png" />
							</p:commandLink>
							<p:commandLink oncomplete="dialogCadastrarUnidade.show();" process="@this" actionListener="#{silosArmazensController.visualizarCadastrarUnidade(unidade)}" >
								<f:setPropertyActionListener value="#{unidade}" target="#{silosArmazensController.silosArmazensUnidadeArmazenadora}"/>
								<f:setPropertyActionListener value="#{true}" target="#{silosArmazensController.isUnidadeEditavel}"/>
								<h:graphicImage value="/resources/img/ico-pesquisa.png" />
							</p:commandLink>
							<p:commandLink oncomplete="dialogCadastrarUnidade.show();" process="@this" actionListener="#{silosArmazensController.editarCadastrarUnidade(unidade)}" disabled="#{silosArmazensController.isVisivel}">
								<f:setPropertyActionListener value="#{unidade}" target="#{silosArmazensController.silosArmazensUnidadeArmazenadora}"/>
								<f:setPropertyActionListener value="#{false}" target="#{silosArmazensController.isUnidadeEditavel}"/>
								<h:graphicImage value="/resources/img/ico-alterar.png" />
							</p:commandLink>
						</p:column>
						
					</p:dataTable>
					
				</h:panelGrid>
			
			</h:panelGroup>
			
			<p:spacer height="50"/>
				
				
</ui:composition>				