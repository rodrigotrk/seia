<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">


	<h:form id="formAbaLicencaAutorizacao">
        <ui:include src="/layout/csrfToken.xhtml" />

		<p:outputPanel id="pnl1">

			<h:panelGrid id="pnAbaLicencaAutorizacao1">
				<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P1.idePergunta.dscPergunta}" />
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1.indResposta}"
					valueChangeListener="#{abaLicencaAutorizacaoController.changePerguntaNRA3P1()}"
					disabled="#{abaLicencaAutorizacaoController.disabledPerguntaNRA3P1()}">
					<f:selectItem itemLabel="Sim" itemValue="true" />
					<f:selectItem itemLabel="Não" itemValue="false" />
					<p:ajax process="@this" update="pnl1 pnl121 pnl14" />
				</p:selectOneRadio>
			</h:panelGrid>

			<h:panelGrid id="pn11">
				<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P11.idePergunta.dscPergunta}" />
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P11.indResposta}"
					valueChangeListener="#{novoRequerimentoController.changePerguntaNR_A3_P11()}"
					disabled="#{abaLicencaAutorizacaoController.disabledPerguntaNR_A3_P11()}">
					<f:selectItem itemLabel="Sim" itemValue="true" />
					<f:selectItem itemLabel="Não" itemValue="false" />
					<p:ajax event="change"
						listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P11}"
						process="@this"
						update="pnAutorizacaoEspecial pnAbaLicencaAutorizacao1 pnAbaLicencaAutorizacao12 pnl13 pnl14" />
				</p:selectOneRadio>
			</h:panelGrid>

			<h:panelGroup id="pnAutorizacaoEspecial" layout="block">

				<h:panelGroup rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P11.indResposta}">

					<h:panelGrid id="pn111">
						<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P111.idePergunta.dscPergunta}" />
						<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P111.indResposta}"
							disabled="#{novoRequerimentoController.desabilitarTudo}">
							<f:selectItem itemLabel="Sim" itemValue="true" />
							<f:selectItem itemLabel="Não" itemValue="false" />
							<p:ajax event="change"
								listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P111}"
								process="@this" update="pnAutorizacaoEspecial" />
						</p:selectOneRadio>
					</h:panelGrid>

					<h:panelGrid id="pn1111"
						rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P111.indResposta eq false}">
						<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P1111.idePergunta.dscPergunta}" />
						<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1111.indResposta}"
							disabled="#{novoRequerimentoController.desabilitarTudo}" >
							<f:selectItem itemLabel="Sim" itemValue="true" />
							<f:selectItem itemLabel="Não" itemValue="false" />
							<p:ajax event="change"  
								listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P1111}"
								process="@this" update="pnAutorizacaoEspecial" />
						</p:selectOneRadio>
				
			<p:confirmDialog 
							header="Registrar ciência do termo" 							
							message="A prestação de informação falsa quanto à cobertura vegetal nativa é infração ambiental passível de aplicação de multa de até R$ 1.000.000,00 (um milhão de reais), sem prejuízo da aplicação, também de multa, de até R$ 50.000,00 (cinquenta mil reais) por hectare ou fração, caso fique constatada a supressão de vegetação nativa posterior a 22/07/2008, sem as devidas autorizações."
							 widgetVar="aceite"													 
							 severity="alert"
							 visible="true"
							 width="630"
							 closable="false" >                			
				 
		    <p:commandButton value="Ciente" onclick="aceite.hide()" type="buttom"  style="float: right;"/>
				
			</p:confirmDialog>
							 
					</h:panelGrid>
					
	
					
					<h:panelGrid id="pn11111"
						rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1111.indResposta eq false}">
						<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P11111.idePergunta.dscPergunta}" />
						<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P11111.indResposta}"
							disabled="#{novoRequerimentoController.desabilitarTudo}">
							<f:selectItem itemLabel="Sim" itemValue="true" />
							<f:selectItem itemLabel="Não" itemValue="false" />
							<p:ajax event="change"
								listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P11111}"
								process="@this" update="pnAutorizacaoEspecial" />
						</p:selectOneRadio>
					</h:panelGrid>
					
					<h:panelGrid id="pn111111" rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P11111.indResposta}" columns="2">
						<h:outputText value="* 1.1.1.1.1.1 Informe a data de assinatura do referido termo de compromisso" />
						<p:calendar id="dataAssinaturaTermoCompromisso" required="abaLicencaAutorizacaoController.perguntaNR_A3_P11111.indResposta"
							requiredMessage="Favor preencher a data de assinatura do Termo de Compromisso"
							value="#{abaLicencaAutorizacaoController.requerimentoProcedimentoEspecial.dataAssinaturaTermoCompromisso}" 
							disabled="#{novoRequerimentoController.desabilitarTudo}"
							maxdate="#{novoRequerimentoController.dataHoje}"
						size="15" showOn="button" locale="pt" pattern="dd/MM/yyyy" navigator="true"
						readOnlyInputText="true">
						</p:calendar>
					</h:panelGrid>
					<p:spacer height="8px"/>

					<h:panelGrid id="pn112">
						<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P112.idePergunta.dscPergunta}" />
						<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P112.indResposta}"
							disabled="#{novoRequerimentoController.desabilitarTudo}">
							<f:selectItem itemLabel="Sim" itemValue="true" />
							<f:selectItem itemLabel="Não" itemValue="false" />
							<p:ajax event="change"
								listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P112}"
								process="@form" update="pnAutorizacaoEspecial" />
						</p:selectOneRadio>
					</h:panelGrid>

					<h:panelGrid id="pn1121" rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P112.indResposta}">
						<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P1121.idePergunta.dscPergunta}" />
						<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1121.indResposta}"
							disabled="#{novoRequerimentoController.desabilitarTudo}">
							<f:selectItem itemLabel="Sim" itemValue="true" />
							<f:selectItem itemLabel="Não" itemValue="false" />
							<p:ajax event="change"
								listener="#{abaLicencaAutorizacaoController.changeListenerPerguntaNRA3P1121}"
								process="@this" update="pnAutorizacaoEspecial" />
						</p:selectOneRadio>
					</h:panelGrid>

				</h:panelGroup>

			</h:panelGroup>

			<h:panelGroup id="pnAbaLicencaAutorizacao12" layout="block">
				<h:panelGrid rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1.indResposta}">
					<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P12.idePergunta.dscPergunta}" />
					<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P12.indResposta}"
						valueChangeListener="#{abaLicencaAutorizacaoController.changePerguntaNRA3P12()}"
						disabled="#{abaLicencaAutorizacaoController.disabledPerguntaNRA3P12()}">
						<f:selectItem itemLabel="Sim" itemValue="true" />
						<f:selectItem itemLabel="Não" itemValue="false" />
						<p:ajax process="@this" update="pnl121" />
					</p:selectOneRadio>
				</h:panelGrid>
			</h:panelGroup>

			<h:panelGrid id="pnAbaLicencaAutorizacao12N" rendered="#{!abaLicencaAutorizacaoController.perguntaNR_A3_P1.indResposta}">
				<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P12_N.idePergunta.dscPergunta}" />
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P12_N.indResposta}"
					valueChangeListener="#{abaLicencaAutorizacaoController.changePerguntaNRA3P12()}"
					disabled="#{abaLicencaAutorizacaoController.perguntaNR_A3_P11.indResposta or novoRequerimentoController.desabilitarTudo}">
					<f:selectItem itemLabel="Sim" itemValue="true" />
					<f:selectItem itemLabel="Não" itemValue="false" />
					<p:ajax update="pnl121" />
				</p:selectOneRadio>
			</h:panelGrid>
		</p:outputPanel>


		<p:outputPanel id="pnl121">
			<h:panelGrid id="pnAbaLicencaAutorizacao121" columns="3"
				rendered="#{abaLicencaAutorizacaoController.licenciada or abaLicencaAutorizacaoController.emProcessoDeLicenciamento}">
				<h:panelGroup>
					<h:outputText value="* 1.2.1. Informe o número do processo:" />
					<br />
					<br />
					<p:inputText
						value="#{abaLicencaAutorizacaoController.licenca.numProcessoLicenca}"
						maxlength="50"
						disabled="#{novoRequerimentoController.desabilitarTudo}">
						<p:ajax event="blur" process="@this" />
					</p:inputText>
				</h:panelGroup>

				<p:spacer width="55px" height="1px" />

				<h:panelGroup>
					<h:outputText value="* 1.2.2. Informe a atividade licenciada:" />
					<br />
					<br />
					<p:inputText value="#{abaLicencaAutorizacaoController.licenca.dscAtividadeProcessoLicencaMunicipal}"
						maxlength="50"
						disabled="#{novoRequerimentoController.desabilitarTudo}">
						<p:ajax event="blur" process="@this" />
					</p:inputText>
				</h:panelGroup>
			</h:panelGrid>
		</p:outputPanel>

		<p:outputPanel id="pnl14">
			<h:panelGrid rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P1.indResposta}">
				<h:panelGroup>
					<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P14.idePergunta.dscPergunta}" />
					<h:graphicImage value="/resources/img/ico-ajuda.png"
						id="ajuda014_licAut" style="margin: 1px 1px 1px 4px;" />
					<p:tooltip for="ajuda014_licAut"
						value="Plano a ser apresentado e aprovado no licenciamento ambiental da atividade de grandes consumidores ou utilizadores de matéria-prima florestal, obrigados a formar e manter florestas de produção para garantir e comprovar o seu suprimento de recursos florestais."
						showEffect="fade" hideEffect="fade" />
				</h:panelGroup>
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P14.indResposta}"
					disabled="#{novoRequerimentoController.desabilitarTudo}">
					<f:selectItem itemLabel="Sim" itemValue="true" />
					<f:selectItem itemLabel="Não" itemValue="false" />
					<p:ajax process="@this" />
				</p:selectOneRadio>
			</h:panelGrid>
		</p:outputPanel>


		<p:outputPanel id="pnl13">
			<h:panelGrid>
				<h:panelGroup>
					<h:outputText value="* #{abaLicencaAutorizacaoController.perguntaNR_A3_P13.idePergunta.dscPergunta}" />
					<h:graphicImage value="/resources/img/ico-ajuda.png"
						id="ajuda013_licAut" style="margin: 1px 1px 1px 4px;" />
					<p:tooltip for="ajuda013_licAut"
						value="Áreas protegidas são espaços territoriais com função de conservação ou preservação de recursos naturais ou culturais que apresentam restrições ambientais, nas quais qualquer intervenção humana está condicionada e sujeita a regulamentos específicos."
						showEffect="fade" hideEffect="fade" />
				</h:panelGroup>
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.perguntaNR_A3_P13.indResposta}"
					valueChangeListener="#{abaLicencaAutorizacaoController.changePerguntaNRA3P13()}"
					disabled="#{novoRequerimentoController.desabilitarTudo}">
					<f:selectItem itemLabel="Sim" itemValue="true" />
					<f:selectItem itemLabel="Não" itemValue="false" />
					<p:ajax process="@this" update="pnl13 pnl131 pnl1311 pnl13111 pnl13111a pnl13111b" />
				</p:selectOneRadio>
			</h:panelGrid>

			<h:panelGrid id='pnl131'>
				<h:panelGrid rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P13.indResposta}">
					<h:outputText value="* 2.1. Informe o tipo de área protegida:" />
					<h:panelGroup layout="block"
						style="height:115px; width:350px; overflow:auto; border:1px solid gray;">
						<p:selectManyCheckbox converter="simpleEntityConverter"
							value="#{abaLicencaAutorizacaoController.requerimento.tipoAreaProtegidaCollection}"
							layout="pageDirection"
							disabled="#{novoRequerimentoController.desabilitarTudo}">
							<f:selectItems
								value="#{abaLicencaAutorizacaoController.tiposAreaProtegida}"
								var="tipoArea" itemValue="#{tipoArea}"
								itemLabel="#{tipoArea.nomTipoAreaProtegida}" />
							<p:ajax update="pnl1311 pnl13111 pnl13111a pnl13111b"
								process="@this" 
								listener="#{abaLicencaAutorizacaoController.changeAreaProtegida()}" />
						</p:selectManyCheckbox>
					</h:panelGroup>
				</h:panelGrid>
			</h:panelGrid>
		</p:outputPanel>

		<p:outputPanel id="pnl1311">
			<h:panelGrid style="margin-bottom:10px" cellpadding="5"
				rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P13.indResposta and abaLicencaAutorizacaoController.indApp}">
				<h:outputText value="* 2.1.1. Informe o(s) tipo(s) de Área(s) de Preservação Permanente:" />
				<h:panelGroup layout="block"
					style="height:115px; width:350px; overflow:auto; border:1px solid gray;">
					<p:selectManyCheckbox id="tabelaListaAreaPermanente"
						value="#{abaLicencaAutorizacaoController.requerimento.tipoAreaPreservacaoPermanenteCollection}"
						converter="simpleEntityConverter"
						disabled="#{novoRequerimentoController.desabilitarTudo}"
						layout="pageDirection">
						<f:selectItems
							value="#{abaLicencaAutorizacaoController.tiposAreaPreservacaoPermanente}"
							var="areaPermanente"
							itemLabel="#{areaPermanente.nomTipoAreaPreservacaoPermanente}"
							itemValue="#{areaPermanente}" />
						<p:ajax process="@this" update="pnl1311 pnl13111" />
					</p:selectManyCheckbox>
				</h:panelGroup>
			</h:panelGrid>
		</p:outputPanel>

		<p:outputPanel id="pnl13111">
			<h:panelGrid rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P13.indResposta and abaLicencaAutorizacaoController.indUc}">
				<h:panelGroup>
					<h:outputText value="* #{abaLicencaAutorizacaoController.indApp ? '2.1.2.':'2.1.1.'} Informe a entidade que realiza a gestão da Unidade de Conservação:" />
				</h:panelGroup>
				<p:selectOneRadio value="#{abaLicencaAutorizacaoController.tipoGestao}"
					layout="horizontal" converter="simpleEntityConverter"
					valueChangeListener="#{abaLicencaAutorizacaoController.changeTipoGestao()}"
					disabled="#{novoRequerimentoController.desabilitarTudo}">
					<f:selectItems value="#{abaLicencaAutorizacaoController.tiposGestao}"
						var="tipoGestao" itemLabel="#{tipoGestao.nomTipoGestao}"
						itemValue="#{tipoGestao}" />
					<p:ajax process="@this" update="pnl13111 pnl13111a pnl13111b" />
				</p:selectOneRadio>
			</h:panelGrid>
		</p:outputPanel>

		<p:outputPanel id="pnl13111a">
			<h:panelGrid rendered="#{abaLicencaAutorizacaoController.tipoGestao.ideTipoGestao == 1 or abaLicencaAutorizacaoController.tipoGestao.ideTipoGestao == 2}">
				<h:panelGroup>
					<h:outputText value="* #{abaLicencaAutorizacaoController.indApp ? '2.1.2.1.':'2.1.1.1.'} Selecione o nome da Unidade de Conservação:" />
				</h:panelGroup>
				<p:selectOneMenu value="#{abaLicencaAutorizacaoController.requerimentoUnidadeConservacao.ideUnidadeConservacao}"
					converter="simpleEntityConverter"
					styleClass="form-input form-select"
					disabled="#{novoRequerimentoController.desabilitarTudo}">
					<f:selectItem itemLabel="Selecione..." />
					<f:selectItems value="#{abaLicencaAutorizacaoController.unidadesConservacao}"
						var="tipoUnidConserv"
						itemLabel="#{tipoUnidConserv.nomUnidadeConservacao}"
						itemValue="#{tipoUnidConserv}" />
				</p:selectOneMenu>
			</h:panelGrid>
		</p:outputPanel>

		<p:outputPanel id="pnl13111b">
			<h:panelGrid rendered="#{abaLicencaAutorizacaoController.perguntaNR_A3_P13.indResposta and (abaLicencaAutorizacaoController.tipoGestao.ideTipoGestao == 3 or abaLicencaAutorizacaoController.tipoGestao.ideTipoGestao == 4)}">
				<h:panelGroup>
					<h:outputText value="* #{abaLicencaAutorizacaoController.indApp ? '2.1.2.1.':'2.1.1.1.'}  Informe o nome da Unidade de Conservação:" />
				</h:panelGroup>
				<p:inputText value="#{abaLicencaAutorizacaoController.requerimentoUnidadeConservacao.nomUnidadeConservacaoMunicipio}"
					style="width:185px" maxlength="50"
					disabled="#{novoRequerimentoController.desabilitarTudo}">
					<p:ajax event="blur" process="@this" />
				</p:inputText>
			</h:panelGrid>
		</p:outputPanel>
		
		
		<h:panelGrid columns="4" style="margin-top:40px;">
			<p:commandButton id="btnVoltar" value="Voltar"
				actionListener="#{novoRequerimentoController.voltarAbas()}"
				update="subViewAbas:tabAbasId"
				style="width:90px;" />
			<!--  subViewAbas:tabAbasId:formAbaLicencaAutorizacao -->

			<p:commandButton id="btnAvancar" value="Avançar"
				actionListener="#{novoRequerimentoController.avancarAbas()}"
				update="subViewAbas:tabAbasId"
				style="width:90px;" />
			<!--  subViewAbas:tabAbasId:formAbaLicencaAutorizacao -->

			<p:spacer width="400" height="10" />

			<p:commandButton value="Salvar"
				actionListener="#{abaLicencaAutorizacaoController.salvarAba()}"
				process="@form"
				update="subViewAbas:tabAbasId:formAbaLicencaAutorizacao"
				disabled="#{novoRequerimentoController.desabilitarTudo}" />
		</h:panelGrid>

	</h:form>
</ui:composition>