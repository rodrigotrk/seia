<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">	
		<p:outputPanel autoUpdate="true">			
			<h:panelGrid columns="1">
				<h:panelGrid columns="2">
				<p:dataTable id="tableIntervencao" style="width:520px;"
					value="#{detalharImovelRuralController.listaPontoIntervencao}"
					widgetVar="tableParticipacaoAcionaria" var="capIntervencao"
					paginator="true" rows="10" paginatorAlwaysVisible="false" emptyMessage="#{bundle.cefir_msg_A012}"
					paginatorPosition="bottom">
					
					<p:column headerText="Localização Geográfica">
							<h:outputText value="#{detalharImovelRuralController.obterPontoFormatado(capIntervencao.ideLocalizacaoGeografica)}" /><br />							
						<h:outputText value="#{detalharImovelRuralController.obterPontoFormatado(capIntervencao.ideLocalizacaoGeograficaFinal)}" />
					</p:column>
					
					<p:column headerText="Ações">
							<p:commandLink oncomplete="exibirDetalhesPontoIntervencao()"
								title="Visualizar"
								action="#{detalharImovelRuralController.prepararExibicaoPontoCaptacao()}"	>
								<f:setPropertyActionListener
									target="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada}"
									value="#{capIntervencao}" />
								<h:graphicImage title="Visualizar" value="/resources/img/ico-pesquisa.png" />
								<f:ajax execute="@form" />
							</p:commandLink>
<!-- 							<p:lightBox iframe="true" width="1010" height="650" overlayClose="false">   -->
							    <h:outputLink value="#{detalharImovelRuralController.caminhoDesenharGeoBahia}" title="GEOBAHIA" target="_blank">  
							        <h:graphicImage title="Visualizar" value="/resources/img/ico-arl-relocacao.png" /> 
							        <f:param name="xy" value="#{detalharImovelRuralController.obterLatLongPorLocGeo(false,false,capIntervencao.ideLocalizacaoGeografica)}"/>
							    </h:outputLink>  
<!-- 							</p:lightBox> -->
					</p:column>
				
				</p:dataTable>	
				</h:panelGrid>		
			</h:panelGrid>
	</p:outputPanel>
		
	<h:panelGrid id="conteudoPi">
		<p:outputPanel autoUpdate="true">
			<h:panelGrid columns="2">
				<h:outputText value="Tipo de intervenção em corpo hídrico:" style="font-size: 11px;font-weight: bold;" />
				<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaIntervencaoSelecionada.ideTipoIntervencao.nomTipoIntervencao}" />						
			</h:panelGrid>	
			<br />				
			<p:fieldset legend="Ponto 1">					
				<h:panelGrid columns="3">
					<h:outputText value="#{bundle.empreendimento_lbl_datum}" style="font-size: 11px;font-weight: bold;" />
					<p:spacer width="20" height="10" />
					<h:outputText value="Descrição" style="font-size: 11px;font-weight: bold;" />
					
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.ideLocalizacaoGeografica.nomeSistemaCoordenadas}" />
					<p:spacer width="20" height="10" />
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.ideLocalizacaoGeografica.desLocalizacaoGeografica}" />										
				</h:panelGrid>
				
				<h:panelGrid>
					<h:outputText value="Cordenadas:" style="font-size: 11px;font-weight: bold;" />					
					<h:panelGrid columns="3">
						<h:outputText value="#{bundle.empreendimento_lbl_latitude}" style="font-size: 11px;font-weight: bold;" />
						<p:spacer width="20" height="10" />			
						<h:outputText value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" style="font-size: 11px;font-weight: bold;" />															
						<h:outputText value="#{detalharImovelRuralController.latitudePonto1}" />
						<p:spacer width="20" height="10" />
						<h:outputText value="#{detalharImovelRuralController.fracaoGrauLatitudePonto1}" />									
					</h:panelGrid>
					<h:panelGrid columns="3">
						<h:outputText value="#{bundle.empreendimento_lbl_longitude}" style="font-size: 11px;font-weight: bold;" />
						<p:spacer width="20" height="10" />			
						<h:outputText value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" style="font-size: 11px;font-weight: bold;" />															
						<h:outputText value="#{detalharImovelRuralController.longitudePonto1}" />
						<p:spacer width="20" height="10" />
						<h:outputText value="#{detalharImovelRuralController.fracaoGrauLongitudePonto1}" />									
					</h:panelGrid>						
				</h:panelGrid>					
			</p:fieldset>
			<br/>
			<p:fieldset legend="Ponto 2">
				<h:panelGrid columns="3">
					<h:outputText value="#{bundle.empreendimento_lbl_datum}" style="font-size: 11px;font-weight: bold;" />
					<p:spacer width="20" height="10" />
					<h:outputText value="Descrição" style="font-size: 11px;font-weight: bold;" />
					
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.ideLocalizacaoGeograficaFinal.nomeSistemaCoordenadas}" />
					<p:spacer width="20" height="10" />
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.ideLocalizacaoGeograficaFinal.desLocalizacaoGeografica}" />										
				</h:panelGrid>
				
				<h:panelGrid>
					<h:outputText value="Cordenadas:" style="font-size: 11px;font-weight: bold;" />					
					<h:panelGrid columns="3">
						<h:outputText value="#{bundle.empreendimento_lbl_latitude}" style="font-size: 11px;font-weight: bold;" />
						<p:spacer width="20" height="10" />			
						<h:outputText value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" style="font-size: 11px;font-weight: bold;" />															
						<h:outputText value="#{detalharImovelRuralController.latitudePonto2}" />
						<p:spacer width="20" height="10" />
						<h:outputText value="#{detalharImovelRuralController.fracaoGrauLatitudePonto2}" />									
					</h:panelGrid>
					<h:panelGrid columns="3">
						<h:outputText value="#{bundle.empreendimento_lbl_longitude}" style="font-size: 11px;font-weight: bold;" />
						<p:spacer width="20" height="10" />			
						<h:outputText value="#{bundle.incluirvertice_lbl_grau_fracao_grau}" style="font-size: 11px;font-weight: bold;" />															
						<h:outputText value="#{detalharImovelRuralController.longitudePonto2}" />
						<p:spacer width="20" height="10" />
						<h:outputText value="#{detalharImovelRuralController.fracaoGrauLongitudePonto2}" />									
					</h:panelGrid>						
				</h:panelGrid>
			</p:fieldset>
				<br/>
			<h:panelGroup columns="1" rendered="#{detalharImovelRuralController.imovelRuralUsoAguaIntervencaoSelecionada.ideTipoIntervencao.ideTipoIntervencao == 7}">
				<h:panelGrid columns="2">
					<h:outputText value="Volume máximo acumulado:" style="font-size: 11px;font-weight: bold;" />
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaIntervencaoSelecionada.volumeBarragem}" />
				</h:panelGrid>
				<h:panelGrid columns="2">
					<h:outputText value="Área inundada do reservatório no nível d'água máximo:" style="font-size: 11px;font-weight: bold;" />
					<h:outputText value="#{detalharImovelRuralController.imovelRuralUsoAguaIntervencaoSelecionada.areaBarragem}" />
				</h:panelGrid>
				<h:panelGrid columns="2">
					<h:outputText value="A barragem é de?" style="font-size: 11px;font-weight: bold;" />
					<h:outputText value="#{detalharImovelRuralController.tipoBarragem}" required="true" converter="enumTypeConverter" />
				</h:panelGrid>
				<h:panelGrid>
					<h:outputText value="A barragem é para?" style="font-size: 11px;font-weight: bold;" />
					<p:selectManyCheckbox id="checkBarragemTipo"
						value="#{detalharImovelRuralController.listUsoBarragemEnum}"
						layout="pageDirection"
						converter="enumTypeConverter"
						disabled="true">
						<f:selectItems value="#{detalharImovelRuralController.listaUsoBarragem}"
							var="tipo" itemLabel="#{bundle[tipo.label]}"
							itemValue="#{tipo}" />
						<p:ajax event="change" global="false" />
					</p:selectManyCheckbox>
				</h:panelGrid>
			</h:panelGroup>
				
				
			<h:panelGrid rendered="#{detalharImovelRuralController.imovelRuralUsoAguaIntervencaoSelecionada.ideTipoIntervencao.ideTipoIntervencao == 1}">
				<h:panelGrid columns="2">
					<h:outputText value="Tipo de travessia de duto?" style="font-size: 11px;font-weight: bold;" />
					<h:outputText value="#{detalharImovelRuralController.tipoTravessia}" />
				</h:panelGrid>
			</h:panelGrid>
			
			
			<h:panelGrid columns="2">
						<h:outputText value="O imóvel possui outorga ou dispensa de outorga?" style="font-size: 11px;font-weight: bold;" />
						<h:outputText value="SIM" rendered="${detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa}" />
						<h:outputText value="NÃO" rendered="${detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa != null and !detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa}" />						
					</h:panelGrid>
					<h:panelGrid columns="2" rendered="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa !=null and !detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa}">
						<h:outputText value="Possui processo em tramite?" style="font-size: 11px;font-weight: bold;" />
						<h:outputText value="SIM" rendered="${detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indProcesso}" />
						<h:outputText value="NÃO" rendered="${detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indProcesso != null and !detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indProcesso}" />						
					</h:panelGrid>
			<p:outputPanel rendered="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indProcesso or detalharImovelRuralController.imovelRuralUsoAguaSelecionada.indDispensa }">						
				<h:panelGroup>
					<p:dataTable widgetVar="tabelaProcessoTramiteCapSuperficial" var="processo"
						value="#{detalharImovelRuralController.imovelRuralUsoAguaSelecionada.processoUsoAguaCollection}"
						emptyMessage="#{bundle.requerimentoUnicoLabelTabRegitrosNaoEncontrados}"
						paginator="true" rows="10"
						paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
						paginatorPosition="bottom" style="width: 300px;">
						<p:column headerText="#{bundle.requerimentoUnicoLabelTabCollumNumeroProcesso}">
							<h:outputText value="#{processo.numeroProcesso}" />
						</p:column>
					</p:dataTable>
				</h:panelGroup>
			</p:outputPanel>
		</p:outputPanel>
	</h:panelGrid>
</ui:composition>