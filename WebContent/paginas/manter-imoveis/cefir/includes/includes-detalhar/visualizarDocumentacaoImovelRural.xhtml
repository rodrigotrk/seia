<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	
	<h:panelGrid columns="1">
		<h:outputText value="Tipo de Documento" style="font-size: 11px;font-weight: bold;"/>
		<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideTipoDocumentoImovelRural.dscTipoDocumentoImovelRural}" />   
	</h:panelGrid>
	<h:panelGrid>
		<h:panelGrid columns="1" rendered="#{detalharImovelRuralController.habilitaVisualizacaoGrupo(1)}">
			<h:outputText value="Data do documento" style="font-size: 11px;font-weight: bold;"/>
			<h:outputText value= "#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.dtcDocumento}" >
				<f:convertDateTime attern="dd/MM/yyyy" locale="pt,BR" timeZone="Brazil/East" />
			</h:outputText>
		</h:panelGrid>
		<h:panelGrid columns="3" rendered="#{detalharImovelRuralController.habilitaVisualizacaoGrupo(2)}">
			<h:outputText value="Data do documento" style="font-size: 11px;font-weight: bold;"/>
			<p:spacer width="20" height="10" />
			<h:outputText value="Emissor do documento" style="font-size: 11px;font-weight: bold;"/>
			
			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.dtcDocumento}" >
				<f:convertDateTime attern="dd/MM/yyyy" locale="pt,BR" timeZone="Brazil/East" />
			</h:outputText>
			<p:spacer width="20" height="10" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.dscEmissorDocumento}" />
		</h:panelGrid>
		<h:panelGrid columns="5" rendered="#{detalharImovelRuralController.habilitaVisualizacaoGrupo(3)}">
			<h:outputText value="Data do documento" style="font-size: 11px;font-weight: bold;" />
			<p:spacer width="20" height="10" />				
			<h:outputText value="CPF do Vendedor" style="font-size: 11px;font-weight: bold;" />
			<p:spacer width="20" height="10" />
			<h:outputText value="Nome do Vendedor" style="font-size: 11px;font-weight: bold;" />
			
			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.dtcDocumento}">
				<f:convertDateTime attern="dd/MM/yyyy" locale="pt,BR" timeZone="Brazil/East" />
			</h:outputText>
			<p:spacer width="20" height="10" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.numCpfVendedor}" >
				<f:converter converterId="cpfConverter" />
			</h:outputText>
			<p:spacer width="20" height="10" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.nomVendedor}"/>
			
		</h:panelGrid>
		<h:panelGrid columns="1" rendered="#{detalharImovelRuralController.habilitaVisualizacaoGrupo(4)}">
			<h:outputLabel styleClass="titulo-grupo" value="DECLARANTE" />
       		<h:panelGrid columns="3">
       			<h:outputText value="CPF do declarante" style="font-size: 11px;font-weight: bold;" rendered="#{!detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.pjDeclarante}"/>
       			<h:outputText value="CNPJ do declarante" style="font-size: 11px;font-weight: bold;" rendered="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.pjDeclarante}"/>
       			<p:spacer width="20" height="10" />
       			<h:outputText value="Nome do declarante" style="font-size: 11px;font-weight: bold;" />
       			
       			<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.numCpfCnpjDeclarante}" 
					rendered="#{!detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.pjDeclarante}">
					<f:converter converterId="cpfConverter" />
				</h:outputText>
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.numCpfCnpjDeclarante}" 
					rendered="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.pjDeclarante}">
					<f:converter converterId="cnpjConverter" />
				</h:outputText>
				<p:spacer width="20" height="10" />					
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.nomDeclarante}"/>
       		</h:panelGrid>			
			<h:panelGrid columns="7">
				<h:outputText value="CEP" style="font-size: 11px;font-weight: bold;" />
				<p:spacer width="20" height="10" />
				<h:outputText value="Bairro/Distrito" style="font-size: 11px;font-weight: bold;" />
				<p:spacer width="20" height="10" />
				<h:outputText value="UF" style="font-size: 11px;font-weight: bold;" />
				<p:spacer width="20" height="10" />
				<h:outputText value="Município"	style="font-size: 11px;font-weight: bold;" />
				
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.numCep}" >
					<f:converter converterId="cepConverter" />
				</h:outputText>
				<p:spacer width="20" height="10" />
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.ideBairro.nomBairro}" />
				<p:spacer width="20" height="10" />
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.ideMunicipio.ideEstado.nomEstado}" />
				<p:spacer width="20" height="10" />
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.ideMunicipio.nomMunicipio}" />
			</h:panelGrid>
			<h:panelGrid columns="1">
				<h:outputText value="Logradouro"
					style="font-size: 11px;font-weight: bold;" />
				<h:outputText
					value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.ideTipoLogradouro.nomTipoLogradouro} #{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.ideLogradouro.nomLogradouro}" />
			</h:panelGrid>
			<h:panelGrid columns="3">
				<h:outputText value="Número"
					style="font-size: 11px;font-weight: bold;" />
				<p:spacer width="20" height="10" />
				<h:outputText value="Complemento"
					style="font-size: 11px;font-weight: bold;" />
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.numEndereco}" />
				<p:spacer width="20" height="10" />
				<h:outputText value="#{detalharImovelRuralController.imovelRural.documentoImovelRuralPosse.ideEnderecoDeclarante.desComplemento}" />
			</h:panelGrid>
		</h:panelGrid>
		<br />
		<h:outputLabel styleClass="titulo-grupo" value="CARTÓRIO" />
		<h:panelGrid columns="1">
			<h:outputText value="#{bundle.empreendimento_lbl_numero_matricula}" style="font-size: 11px;font-weight: bold;" 
						   rendered="#{detalharImovelRuralController.retornaTipoVinculoImovel.ideTipoVinculoImovel == 1}" />
		    <h:outputText value="#{bundle.cefir_lbl_documento_posse_cartorio}" style="font-size: 11px;font-weight: bold;"
						   rendered="#{detalharImovelRuralController.retornaTipoVinculoImovel.ideTipoVinculoImovel != 1}" />		    			 
		   	
			<h:outputText value="#{detalharImovelRuralController.imovelRural.numMatricula}" 
				rendered="#{detalharImovelRuralController.retornaTipoVinculoImovel.ideTipoVinculoImovel == 1}" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.numRegistro}"  
						 rendered="#{detalharImovelRuralController.retornaTipoVinculoImovel.ideTipoVinculoImovel != 1}" />
		</h:panelGrid>
		
		<h:panelGrid columns="3">
			<h:outputText value="#{bundle.empreendimento_lbl_ccir_incra}" style="font-size: 11px;font-weight: bold;" rendered ="#{!detalharImovelRuralController.imovelRural.imovelINCRA}"/>
			<h:outputText value="#{bundle.cefir_lbl_codigo_imovel}" style="font-size: 11px;font-weight: bold;" rendered ="#{detalharImovelRuralController.imovelRural.imovelINCRA}"/>
		    <p:spacer width="20" height="10" />
		    <h:outputText value="#{bundle.empreendimento_lbl_itr_receita_federal}" style="font-size: 11px;font-weight: bold;"/>
			
			<h:outputText value="#{detalharImovelRuralController.imovelRural.numCcir}" />
			<p:spacer width="20" height="10" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.numItr}" />
		</h:panelGrid>
		
		<h:panelGrid columns="3">
			<h:outputText value="UF" style="font-size: 11px;font-weight: bold;" />
			<p:spacer width="20" height="10" />
		   	<h:outputText value="Município/Comarca" style="font-size: 11px;font-weight: bold;" />
		   	
			<h:outputText value="#{detalharImovelRuralController.imovelRural.ideMunicipioCartorio.ideEstado.desSigla}" />
			<p:spacer width="20" height="10" />			
			<h:outputText value="#{detalharImovelRuralController.imovelRural.ideMunicipioCartorio.nomMunicipio}" />
			
		</h:panelGrid>

		<h:panelGrid columns="5">
			<h:outputText value="Nome" style="font-size: 11px;font-weight: bold;" />
			<p:spacer width="20" height="10" />
			<h:outputText value="#{bundle.empreendimento_lbl_livro}" style="font-size: 11px;font-weight: bold;" />
			<p:spacer width="20" height="10" />
			<h:outputText value="#{bundle.empreendimento_lbl_folhas}" style="font-size: 11px;font-weight: bold;"/>
			
			<h:outputText value="#{detalharImovelRuralController.imovelRural.desCartorio}" />
			<p:spacer width="20" height="10" />
			<h:outputText value="#{detalharImovelRuralController.imovelRural.desLivro}" />
			<p:spacer width="20" height="10" />
		  	<h:outputText value="#{detalharImovelRuralController.imovelRural.numFolha}" />
		</h:panelGrid>
	</h:panelGrid>
	<br />
	
	<h:panelGroup layout="block" rendered="#{not empty detalharImovelRuralController.imovelRural.imovel.pessoaImovelCollection}">
		<h3>
			<h:outputLabel styleClass="titulo-grupo"
				value="#{detalharImovelRuralController.tituloProprietariosJustoPossuidores}" />
		</h3>
		<br/>
		<h:panelGrid columns="1">
			<p:dataTable 
				style="width:520px;" widgetVar="tableParticipacaoAcionaria"
				value="#{detalharImovelRuralController.imovelRural.imovel.pessoaImovelCollection}"
				var="proprietario" paginator="true" rows="10"
				paginatorAlwaysVisible="false" paginatorPosition="bottom">
				<p:column headerText="Nome">
					<h:outputText value="#{proprietario.idePessoa.nomeRazao}" />
				</p:column>
				<p:column headerText="CPF/CNPJ">
					<h:outputText value="#{proprietario.idePessoa.cpfCnpj}" />
				</p:column>
			</p:dataTable>
		</h:panelGrid>
	</h:panelGroup>
	
	<h:panelGrid style="width: 93%;" rendered="#{not empty detalharImovelRuralController.listaArquivoDocumento}">
		<h3>
			<h:outputLabel value="#{detalharImovelRuralController.lblDocumentoPossePropriedade}"
				id="lblUploadDocVizualizacao" styleClass="titulo-grupo"
				style="width:380px; margin-left: 0px;" />
		</h3>
		<h:panelGrid style="float:left; width: 99%;">
			<p:dataTable widgetVar="dtTbDocumentos"
				value="#{detalharImovelRuralController.listaArquivoDocumento}" var="arquivo"
				lazy="true" emptyMessage="#{bundle.cefir_msg_A012}"
				style="width:80%;">
				<p:column>
					<h:outputText value="#{arquivo.nomDocumentoObrigatorio}" />
				</p:column>
				<p:column>
					<h:commandLink ajax="false">
						<h:graphicImage value="/resources/img/ico-download.png" />
						<f:setPropertyActionListener
							target="#{detalharImovelRuralController.arquivoSelecionado}"
							value="#{arquivo.dscCaminhoArquivo}" />
						<p:fileDownload value="#{detalharImovelRuralController.arquivoBaixar}" />
					</h:commandLink>
				</p:column>
			</p:dataTable>
		</h:panelGrid>
	</h:panelGrid>

	<h:panelGrid style="width: 93%;"
		rendered="${detalharImovelRuralController.isProcPfPjRepLegal}">
		<h3>
			<h:outputLabel value="Procuração"
				id="lblUploadProc" styleClass="titulo-grupo"
				style="width:380px; margin-left: 0px;" />
		</h3>
		<h:panelGrid style="float:left; width: 99%;">
			<p:dataTable id="dataTableDocumentosImovelProcuradorImovelVisualizacao"
				widgetVar="dtTbDocumentosProcuradorImovel"
				value="#{detalharImovelRuralController.listaArquivoProcuracao}"
				var="arquivo" lazy="true" emptyMessage="#{bundle.cefir_msg_A012}"
				style="width:80%;">
				<p:column>
					<h:outputText value="#{arquivo.nomDocumentoObrigatorio}" />
				</p:column>
				<p:column>
					<h:commandLink ajax="false">
						<h:graphicImage value="/resources/img/ico-download.png" />
						<f:setPropertyActionListener
							target="#{detalharImovelRuralController.arquivoSelecionado}"
							value="#{arquivo.dscCaminhoArquivo}" />
						<p:fileDownload value="#{detalharImovelRuralController.arquivoBaixar}" />
					</h:commandLink>
				</p:column>
			</p:dataTable>
		</h:panelGrid>
	</h:panelGrid>	
</ui:composition>