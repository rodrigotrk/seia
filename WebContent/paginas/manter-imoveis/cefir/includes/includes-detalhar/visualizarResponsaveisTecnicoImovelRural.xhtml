<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" 
				xmlns:h="http://java.sun.com/jsf/html" 
				xmlns:f="http://java.sun.com/jsf/core" 
				xmlns:ui="http://java.sun.com/jsf/facelets" 
				xmlns:p="http://primefaces.prime.com.tr/ui">
	<h:panelGrid columns="1" cellpadding="10">
		<p:outputPanel autoUpdate="true" id="listaResponsaveis" >
			<h:panelGrid columns="2">
				<p:dataTable value="#{detalharImovelRuralController.imovelRural.responsavelImovelRuralCollection}" emptyMessage="#{bundle.cefir_msg_A012}" rowIndexVar="index" var="responsavelTecnico" style="width:670px;">
					<f:facet name="header">Responsáveis Técnicos Cadastrados</f:facet>
					<p:column headerText="Número do CPF" style="width: 90px;">
						<h:outputText value="#{responsavelTecnico.idePessoaFisica.numCpf}" />
					</p:column>								
					<p:column headerText="Nome" style="width: 150px;">
						<h:outputText value="#{responsavelTecnico.idePessoaFisica.nomPessoa}" />
					</p:column>								
					<p:column headerText="Escolaridade" style="width: 120px;">
						<h:outputText value="#{responsavelTecnico.idePessoaFisica.ideEscolaridade.nomEscolaridade}" />
					</p:column>
					<p:column headerText="Data Início" style="width: 70px;">
						<h:outputText value="#{responsavelTecnico.dtcCriacao}" >
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputText>
					</p:column>
					<p:column headerText="Data Fim" style="width: 70px;">
						<h:outputText value="#{responsavelTecnico.dtcExclusao}">
							<f:convertDateTime pattern="dd/MM/yyyy"/>
						</h:outputText>
					</p:column>
					<p:column headerText="Ações">
						<h:commandButton image="/resources/img/ico-download.png" rendered="#{responsavelTecnico.ideDocumentoResponsavel != null}" title="Download Documento">
							<f:setPropertyActionListener target="#{detalharImovelRuralController.arquivoSelecionado}" value="#{responsavelTecnico.ideDocumentoResponsavel.dscCaminhoArquivo}" />
							<p:fileDownload value="#{detalharImovelRuralController.arquivoBaixar}" />							
						</h:commandButton>									
					</p:column>
				</p:dataTable>				
			</h:panelGrid>
		</p:outputPanel>
	</h:panelGrid>
</ui:composition>
