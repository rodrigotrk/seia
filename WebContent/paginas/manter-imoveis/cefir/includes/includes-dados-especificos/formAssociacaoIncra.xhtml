<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">
	<h:panelGrid id="listaAssociacaoIncra">
	<p:outputPanel autoUpdate="true">
	<p:dataTable id="tableAssociacaoIncra" 
				 value="#{imovelRuralControllerNew.listAssociacoesIncra}"
				 widgetVar="tableAssociacaoIncra" 
				 var="associacaoIncra"
				 paginator="true" 
				 rows="5" 
				 paginatorAlwaysVisible="false" 
				 emptyMessage="#{bundle.cefir_msg_A012}"
				 paginatorPosition="bottom">
			
				<p:column style="width: 445px;">
					<f:facet name="header">
						<h:outputText value="#{bundle.lbl_nome}" />
					</f:facet>
					<h:outputText value="#{associacaoIncra.idePessoaJuridica.nomRazaoSocial}"/>
				</p:column>
				<p:column style="width: 126px;">
					<f:facet name="header">
						<h:outputText value="#{bundle.consultapj_lbl_cnpj}" />
					</f:facet>
					<h:outputText value="#{associacaoIncra.idePessoaJuridica.numCnpj}">
						<f:converter converterId="cnpjConverter" />
					</h:outputText>
				</p:column>
				<p:column style="text-align: center; width: 50px;">
					<f:facet name="header">
						<h:outputText value="#{bundle.geral_lbl_acoes}" />
					</f:facet>
					<h:panelGrid style="color:white;" columns="3">
						<p:commandLink id="btnEditarAssociacaoIncra" 
									   title="Editar"
									   oncomplete="dlgCadAssociacaoIncra.show()"																
									   style="margin: 0.7px;" 
									   process="@this"
									   update="formAssociacaoIncra">
									<h:graphicImage title="Editar"
													value="/resources/img/ico-editar.png" />
							<f:setPropertyActionListener value="#{associacaoIncra}"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada}" />
							<f:setPropertyActionListener value="true"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada.indEdicao}" />
							<f:setPropertyActionListener value="false"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada.indVisualizacao}" />
						</p:commandLink>
						<p:commandLink title="Remover" onclick="confirmaExclusaoAssociacaoIncra.show()" process="@this">														
							<h:graphicImage title="Excluir" 
											value="/resources/img/ico-excluir.png" />
							<f:setPropertyActionListener value="#{associacaoIncra}"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada}" />
						</p:commandLink>
						<p:commandLink id="btnVisualizarAssociacaoIncra" 
									   title="Visualizar"
									   oncomplete="dlgCadAssociacaoIncra.show()"																
									   style="margin: 0.7px;" 
									   process="@this"
									   update="formAssociacaoIncra">
									<h:graphicImage title="Visualizar"
													value="/resources/img/ico-pesquisa.png" />
							<f:setPropertyActionListener value="#{associacaoIncra}"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada}" />
							<f:setPropertyActionListener value="true"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada.indVisualizacao}" />
							<f:setPropertyActionListener value="fasle"
									target="#{imovelRuralControllerNew.associacaoIncraSelecionada.indEdicao}" />
						</p:commandLink>
					</h:panelGrid>
				</p:column>
	</p:dataTable>
	</p:outputPanel>
	
	
	<h:panelGrid>
		<p:commandButton id="cefir_lbl_botao_incluir_associacao_incra" 
						 value="#{bundle.cefir_lbl_botao_incluir}" 
						 process="@this" 
						 actionListener="#{imovelRuralControllerNew.cadastrarAssociacaoIncra()}"
						 oncomplete="dlgCadAssociacaoIncra.show()"
						 update="formAssociacaoIncra">
		</p:commandButton>
	</h:panelGrid>
	
	
	</h:panelGrid>
</ui:composition>	