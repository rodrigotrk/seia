<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.prime.com.tr/ui">

  
	<h:form id="form_dialog">
 		<h:panelGrid rendered="#{atoAmbientalController.documentoAtoSelecionado ne null}" columns="1" style="text-align:left" >
			 
			 <h:outputLabel value="Tipologia" />
	     	 
	     	 <p:selectOneMenu id="Tipologia" value="#{atoAmbientalController.documentoAtoSelecionado.ideTipologia}" disabled="#{atoAmbientalController.editar}"
	     	 				  converter="TipologiaConverter" valueChangeListener="#{atoAmbientalController.carregaTipologia}" style="width:500px">
	            <f:selectItem itemValue="" itemLabel="Selecione..."  />
	            <f:selectItems value="#{atoAmbientalController.tipologiaMenu}" var="tipologia" itemLabel="#{tipologia.desTipologia}" itemValue="#{tipologia}"/>
	         	<p:ajax update=":form_dialog:finalidade"/>
	         </p:selectOneMenu>
	     	 
			 <h:outputLabel value="Finalidade" />
			 
	     	 <p:selectOneMenu id="finalidade" value="#{atoAmbientalController.documentoAtoSelecionado.ideTipoFinalidadeUsoAgua}" disabled="#{atoAmbientalController.editar}"
	     	 				  converter="tipoFinalidadeUsoAguaConverter"  style="width:500px" >
	            <f:selectItem itemValue="" itemLabel="Selecione..."  />
	            <f:selectItems value="#{atoAmbientalController.finalidadeMenu}" var="tipofinalidadeusoagua" itemLabel="#{tipofinalidadeusoagua.nomTipoFinalidadeUsoAgua}" itemValue="#{tipofinalidadeusoagua}" />
	         </p:selectOneMenu>
	     	
			 <h:outputLabel value="Documento Obrigatório *" /> 
			 
	     	 <p:selectOneMenu id="documentoObrigatorio" value="#{atoAmbientalController.documentoAtoSelecionado.ideDocumentoObrigatorio}" required="true" disabled="#{atoAmbientalController.editar}" 
	     	 				  requiredMessage="É preciso escolher um Documento obrigatorio" converter="documentoObrigatorioConverter" style="width: 500px;">
	            <f:selectItem  itemValue="" itemLabel="Selecione..."  /> 
	        	<f:selectItems value="#{atoAmbientalController.documentoObrigatorioMenu}" var="documento" itemLabel="#{documento.nomDocumentoObrigatorio}"  itemValue="#{documento}" />
	         </p:selectOneMenu>
						
			<h:outputLabel value="Ativo" />
			<p:selectBooleanCheckbox value="#{atoAmbientalController.documentoAtoSelecionado.indAtivo}"/>
			
			<h:panelGrid columns="2">
         		<p:commandButton value="Fechar" onclick=":dlg.hide()"/>
    			<p:commandButton value="Salvar" action="#{atoAmbientalController.salvarDocumentoAto()}" onsuccess=":dlg.hide()" update=":formAtoAmbiental:pnlDocumentoAto  :formAtoAmbiental:fora" process="@form"/>
     		</h:panelGrid>
     		
     	</h:panelGrid>
     	
	</h:form>
	
</ui:composition>